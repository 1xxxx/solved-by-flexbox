{"version":3,"sources":["node_modules/browser-pack/_prelude.js","main.js","assets/javascript/main.js","assets/javascript/analytics-storage.js","assets/javascript/analytics.js","assets/javascript/supports.js","node_modules/autotrack/lib/constants.js","node_modules/autotrack/lib/plugins/clean-url-tracker.js","node_modules/autotrack/lib/plugins/event-tracker.js","node_modules/autotrack/lib/plugins/media-query-tracker.js","node_modules/autotrack/lib/plugins/outbound-link-tracker.js","node_modules/autotrack/lib/plugins/page-visibility-tracker.js","node_modules/autotrack/lib/plugins/social-widget-tracker.js","node_modules/autotrack/lib/provide.js","node_modules/autotrack/lib/usage.js","node_modules/autotrack/lib/utilities.js","node_modules/autotrack/node_modules/object-assign/index.js","node_modules/date-now/index.js","node_modules/debounce/index.js","node_modules/dom-utils/lib/closest.js","node_modules/dom-utils/lib/delegate.js","node_modules/dom-utils/lib/get-attributes.js","node_modules/dom-utils/lib/matches.js","node_modules/dom-utils/lib/parents.js","node_modules/dom-utils/lib/parse-url.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequire","obj","__esModule","supports","flexbox","div","document","createElement","className","innerHTML","body","insertBefore","firstChild","./analytics","./supports","2","getStoredData","data","undefined","JSON","parse","window","localStorage","getItem","GA_LOCAL_STORAGE_KEY","err","trackers","getStoredTrackerData","name","setStoredData","setItem","stringify","setStoredTrackerData","trackerData","Object","defineProperty","value","3","createTrackers","fields","siteSpeedSampleRate","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","PROD_TRACKERS","Symbol","iterator","next","done","tracker","ga","trackingId","getAll","clientId","get","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","TEST_TRACKERS","_tracker","storage","trackErrors","errorQueue","onerror","q","msg","file","line","col","error","gaAll","eventCategory","eventAction","eventLabel","stack","apply","_toConsumableArray","setDefaultDimensionValues","keys","dimensions","forEach","key","NULL_VALUE","requirePlugins","stripQuery","queryDimensionIndex","getDefinitionIndex","URL_QUERY_PARAMS","indexFilename","trailingSlash","gaProd","definitions","dimensionIndex","items","media","visibleMetricIndex","metrics","PAGE_VISIBLE","hiddenMetricIndex","PAGE_HIDDEN","fieldsObj","_defineProperty","nonInteraction","HIT_SOURCE","hitFilter","model","set","METRIC_VALUE","String","trackClientId","CLIENT_ID","initSessionControl","gaTest","originalBuildHitTask","originalSendHitTask","HIT_TYPE","HIT_INDEX","index","HIT_TIME","Date","HIT_UUID","uuid","payload","PREVIOUS_HIT_PAYLOAD","hitTime","time","serializeHit","sendInitialPageview","createGaProxy","command","_len","arguments","args","Array","_key","getByName","concat","hit","hitType","page","hitSource","hitUuid","map","decodeURIComponent","join","definition","exec","shuffleArray","array","j","Math","floor","random","temp","arr","isArray","arr2","from","enumerable","configurable","writable","_analyticsStorage","ALL_TRACKERS","filter","_ref","test","BREAKPOINT","RESOLUTION","ORIENTATION","onload","b","toString","replace","./analytics-storage","autotrack/lib/plugins/clean-url-tracker","autotrack/lib/plugins/event-tracker","autotrack/lib/plugins/media-query-tracker","autotrack/lib/plugins/outbound-link-tracker","autotrack/lib/plugins/page-visibility-tracker","autotrack/lib/plugins/social-widget-tracker","4","style","5","VERSION","DEV_ID","VERSION_PARAM","USAGE_PARAM","NULL_DIMENSION","6","CleanUrlTracker","opts","usage","track","plugins","CLEAN_URL_TRACKER","this","assign","overrideTrackerBuildHitTask","parseUrl","constants","provide","prototype","cleanUrlTask","location","url","oldPath","pathname","newPath","parts","split","isFilename","substr","query","search","originalTrackerBuildHitTask","bind","remove","originalTrackerSendHitTask","../constants","../provide","../usage","dom-utils/lib/parse-url","object-assign","7","EventTracker","EVENT_TRACKER","addEventListener","events","attributePrefix","handleEvents","selector","delegates","event","delegate","deep","useCapture","createFieldsObj","getAttributeFields","element","prefix","type","getAttribute","defaultFields","transport","attributeFields","userFields","send","destroy","../utilities","dom-utils/lib/delegate","8","MediaQueryTracker","MEDIA_QUERY_TRACKER","matchMedia","changeTemplate","changeTimeout","isObject","toArray","changeListeners","processMediaQueries","getMediaListener","mediaMap","debounce","mediaName","getMatchName","addChangeListeners","match","item","matches","mql","fn","handleChanges","addListener","push","newValue","oldValue","listener","removeListener","9","OutboundLinkTracker","OUTBOUND_LINK_TRACKER","linkSelector","shouldTrackOutboundLink","handleLinkInteractions","link","navigator","sendBeacon","target","href","hostname","protocol","slice","10","PageVisibilityTracker","PAGE_VISIBILITY_TRACKER","sessionTimeout","DEFAULT_SESSION_TIMEOUT","visibilityState","lastVisibilityChangeTime","handleVisibilityStateChange","overrideTrackerSendMethod","overrideTrackerSendHitTask","prevVisibilityState","sessionHasTimedOut","timeDeltaInSeconds","round","eventValue","metric","minutesSinceLastHit","lastHitTime","originalTrackerSendMethod","firstArg","isPageview","removeEventListener","11","SocialWidgetTracker","SOCIAL_WIDGET_TRACKER","addWidgetListeners","addTwitterEventHandlers","handleTweetEvents","handleFollowEvents","handleLikeEvents","handleUnlikeEvents","readyState","FB","addFacebookEventHandlers","twttr","ready","removeTwitterEventHandlers","unbind","Event","subscribe","removeFacebookEventHandlers","unsubscribe","region","socialNetwork","socialAction","socialTarget","screenName","screen_name","12","utilities","gaDevIds","pluginName","pluginConstructor","gaAlias","gaplugins","capitalize","./constants","./utilities","13","convertHexToBin","hex","parseInt","convertBinToHex","bin","padZeros","str","len","toAdd","flipBitOn","trackPlugin","pluginIndex","usageHex","usageBin","PLUGIN_COUNT","trackVersion","IMPRESSION_TRACKER","OUTBOUND_FORM_TRACKER","URL_CHANGE_TRACKER","plugin","14","getAttributes","opt_tracker","opt_hitFilter","opt_target","buildHitTask","attributes","attribute","indexOf","field","camelCase","domReady","callback","withTimeout","wait","called","setTimeout","p1","toUpperCase","charAt","dom-utils/lib/get-attributes","15","toObject","val","TypeError","shouldUseNative","test1","getOwnPropertyNames","test2","fromCharCode","order2","test3","letter","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","source","symbols","to","getOwnPropertySymbols","16","now","getTime","17","func","immediate","later","last","timestamp","timeout","result","context","callNow","date-now","18","parents","shouldCheckSelf","nodeType","parent","parentElements","./matches","./parents","19","closest","ancestor","eventType","deepPath","node","path","delegateTarget","./closest","20","attrs","attr","21","matchesSelector","nativeMatches","nodes","parentNode","querySelectorAll","proto","Element","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","22","list","23","HTTP_PORT","HTTPS_PORT","DEFAULT_PORT","RegExp","cache","port","host","origin","hash","fragment"],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\nrequire(\"./analytics\");\n\nvar supports = _interopRequire(require(\"./supports\"));\n\n// Add an `is-legacy` class on browsers that don't supports flexbox.\nif (!supports.flexbox()) {\n  var div = document.createElement(\"div\");\n  div.className = \"Error\";\n  div.innerHTML = \"Your browser does not support Flexbox.\\n                   Parts of this site may not appear as expected.\";\n\n  document.body.insertBefore(div, document.body.firstChild);\n}\n\n},{\"./analytics\":3,\"./supports\":4}],2:[function(require,module,exports){\n\n\n// Schema:\n// ---------------------\n// {\n//   clientId: String(),\n//   trackers: {\n//     [name]: {\n//       index: Number,\n//       time: Number,\n//       payload: String\n//     }\n//   }\n// }\n\n\"use strict\";\n\nexports.getStoredData = getStoredData;\nexports.getStoredTrackerData = getStoredTrackerData;\nexports.setStoredData = setStoredData;\nexports.setStoredTrackerData = setStoredTrackerData;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar GA_LOCAL_STORAGE_KEY = \"_ga\";\nfunction getStoredData() {\n  var data = undefined;\n  try {\n    data = JSON.parse(window.localStorage.getItem(GA_LOCAL_STORAGE_KEY));\n  } catch (err) {}\n  data = data || {};\n  data.trackers = data.trackers || {};\n  return data;\n}\n\nfunction getStoredTrackerData(name) {\n  var data = getStoredData();\n  return data.trackers[name] || {};\n}\n\nfunction setStoredData(data) {\n  try {\n    window.localStorage.setItem(GA_LOCAL_STORAGE_KEY, JSON.stringify(data));\n  } catch (err) {}\n}\n\nfunction setStoredTrackerData(name, trackerData) {\n  var data = getStoredData();\n  data.trackers[name] = trackerData;\n  setStoredData(data);\n}\n\n// Do nothing...\n\n// Do nothing...\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nvar _toConsumableArray = function (arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } };\n\nvar _defineProperty = function (obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); };\n\nrequire(\"autotrack/lib/plugins/clean-url-tracker\");\n\nrequire(\"autotrack/lib/plugins/event-tracker\");\n\nrequire(\"autotrack/lib/plugins/media-query-tracker\");\n\nrequire(\"autotrack/lib/plugins/outbound-link-tracker\");\n\nrequire(\"autotrack/lib/plugins/page-visibility-tracker\");\n\nrequire(\"autotrack/lib/plugins/social-widget-tracker\");\n\nvar _analyticsStorage = require(\"./analytics-storage\");\n\nvar getStoredData = _analyticsStorage.getStoredData;\nvar getStoredTrackerData = _analyticsStorage.getStoredTrackerData;\nvar setStoredData = _analyticsStorage.setStoredData;\nvar setStoredTrackerData = _analyticsStorage.setStoredTrackerData;\n\n/**\n * A global list of tracker object, randomized to ensure no one tracker\n * data is always sent first.\n */\nvar ALL_TRACKERS = shuffleArray([{ name: \"t0\", trackingId: \"UA-40829935-1\" }, { name: \"testing\", trackingId: \"UA-40829935-4\" }]);\nvar PROD_TRACKERS = ALL_TRACKERS.filter(function (_ref) {\n  var name = _ref.name;\n  return !/test/.test(name);\n});\nvar TEST_TRACKERS = ALL_TRACKERS.filter(function (_ref) {\n  var name = _ref.name;\n  return /test/.test(name);\n});\n\nvar NULL_VALUE = \"(not set)\";\n\nvar metrics = {\n  PAGE_VISIBLE: \"metric1\",\n  PAGE_HIDDEN: \"metric2\"\n};\n\nvar dimensions = {\n  BREAKPOINT: \"dimension1\",\n  RESOLUTION: \"dimension2\",\n  ORIENTATION: \"dimension3\",\n  HIT_SOURCE: \"dimension4\",\n  URL_QUERY_PARAMS: \"dimension5\",\n  METRIC_VALUE: \"dimension6\",\n  CLIENT_ID: \"dimension7\",\n  HIT_INDEX: \"dimension8\",\n  PREVIOUS_HIT_PAYLOAD: \"dimension9\",\n  HIT_TYPE: \"dimension10\",\n  HIT_UUID: \"dimension11\",\n  HIT_TIME: \"dimension12\" };\n\n// The command queue proxies.\nvar gaAll = createGaProxy(ALL_TRACKERS);\nvar gaProd = createGaProxy(PROD_TRACKERS);\nvar gaTest = createGaProxy(TEST_TRACKERS);\n\n// Delays running any analytics until after the load event\n// to ensure beacons don't block resources.\nwindow.onload = function () {\n  createTrackers();\n  trackErrors();\n  setDefaultDimensionValues();\n  requirePlugins();\n  trackClientId();\n  initSessionControl();\n  sendInitialPageview();\n};\n\nfunction createTrackers() {\n  var fields = { siteSpeedSampleRate: 10 };\n  var data = getStoredData();\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = PROD_TRACKERS[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var tracker = _step.value;\n\n      window.ga(\"create\", tracker.trackingId, \"auto\", tracker.name, fields);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  window.ga(function () {\n    var tracker = window.ga.getAll()[0];\n    data.clientId = tracker.get(\"clientId\") || data.clientId;\n    setStoredData(data);\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = TEST_TRACKERS[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _tracker = _step2.value;\n\n        if (data.clientId) fields.clientId = data.clientId;\n        if (window.localStorage) fields.storage = \"none\";\n        window.ga(\"create\", _tracker.trackingId, \"auto\", _tracker.name, fields);\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"]) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  });\n}\n\nfunction trackErrors() {\n  // Errors that have occurred prior to this script running are stored on\n  // the `q` property of the window.onerror function.\n  var errorQueue = window.onerror.q || [];\n\n  // Override the temp `onerror()` handler to now send hits to GA.\n  window.onerror = function (msg, file, line, col, error) {\n    gaAll(\"send\", \"event\", {\n      eventCategory: \"Script\",\n      eventAction: \"uncaught error\",\n      eventLabel: error ? error.stack : \"\" + msg + \"\\n\" + file + \":\" + line + \":\" + col\n    });\n  };\n\n  // Replay any stored errors in the queue.\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = errorQueue[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var error = _step.value;\n\n      window.onerror.apply(window, _toConsumableArray(error));\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nfunction setDefaultDimensionValues() {\n  Object.keys(dimensions).forEach(function (key) {\n    gaAll(\"set\", dimensions[key], NULL_VALUE);\n  });\n}\n\nfunction requirePlugins() {\n  gaAll(\"require\", \"cleanUrlTracker\", {\n    stripQuery: true,\n    queryDimensionIndex: getDefinitionIndex(dimensions.URL_QUERY_PARAMS),\n    indexFilename: \"index.html\",\n    trailingSlash: \"add\"\n  });\n  gaProd(\"require\", \"eventTracker\");\n  gaProd(\"require\", \"mediaQueryTracker\", {\n    definitions: [{\n      name: \"Breakpoint\",\n      dimensionIndex: 1,\n      items: [{ name: \"xs\", media: \"all\" }, { name: \"sm\", media: \"(min-width: 384px)\" }, { name: \"md\", media: \"(min-width: 576px)\" }, { name: \"lg\", media: \"(min-width: 768px)\" }]\n    }, {\n      name: \"Resolution\",\n      dimensionIndex: 2,\n      items: [{ name: \"1x\", media: \"all\" }, { name: \"1.5x\", media: \"(-webkit-min-device-pixel-ratio: 1.5), \" + \"(min-resolution: 144dpi)\" }, { name: \"2x\", media: \"(-webkit-min-device-pixel-ratio: 2), \" + \"(min-resolution: 192dpi)\" }]\n    }, {\n      name: \"Orientation\",\n      dimensionIndex: 3,\n      items: [{ name: \"landscape\", media: \"(orientation: landscape)\" }, { name: \"portrait\", media: \"(orientation: portrait)\" }]\n    }]\n  });\n  gaAll(\"require\", \"outboundLinkTracker\");\n  gaProd(\"require\", \"pageVisibilityTracker\", {\n    visibleMetricIndex: getDefinitionIndex(metrics.PAGE_VISIBLE),\n    hiddenMetricIndex: getDefinitionIndex(metrics.PAGE_HIDDEN),\n    fieldsObj: _defineProperty({\n      nonInteraction: null }, dimensions.HIT_SOURCE, \"pageVisibilityTracker\"),\n    hitFilter: function hitFilter(model) {\n      model.set(dimensions.METRIC_VALUE, String(model.get(\"eventValue\")), true);\n    }\n  });\n  gaProd(\"require\", \"socialWidgetTracker\");\n}\n\nfunction trackClientId() {\n  gaAll(function (tracker) {\n    var clientId = tracker.get(\"clientId\");\n    tracker.set(dimensions.CLIENT_ID, clientId);\n  });\n}\n\nfunction initSessionControl() {\n  gaTest(function (tracker) {\n    var originalBuildHitTask = tracker.get(\"buildHitTask\");\n    var originalSendHitTask = tracker.get(\"sendHitTask\");\n\n    tracker.set(\"buildHitTask\", function (model) {\n      var name = tracker.get(\"name\");\n      var trackerData = getStoredTrackerData(name);\n\n      model.set(dimensions.HIT_TYPE, model.get(\"hitType\"), true);\n      model.set(dimensions.HIT_INDEX, String(trackerData.index || 0), true);\n      model.set(dimensions.HIT_TIME, String(+new Date()), true);\n      model.set(dimensions.HIT_UUID, uuid(), true);\n\n      if (trackerData.payload) {\n        model.set(dimensions.PREVIOUS_HIT_PAYLOAD, trackerData.payload, true);\n      }\n\n      originalBuildHitTask(model);\n    });\n\n    tracker.set(\"sendHitTask\", function (model) {\n      var name = tracker.get(\"name\");\n      var hitTime = model.get(dimensions.HIT_TIME);\n      var trackerData = getStoredTrackerData(name);\n      trackerData.index = (trackerData.index || 0) + 1;\n      trackerData.time = hitTime;\n      trackerData.payload = serializeHit(model);\n      setStoredTrackerData(name, trackerData);\n\n      originalSendHitTask(model);\n    });\n  });\n}\n\nfunction sendInitialPageview() {\n  gaAll(\"send\", \"pageview\", _defineProperty({}, dimensions.HIT_SOURCE, \"pageload\"));\n}\n\n/**\n * Creates a ga() proxy function that calls commands on all but the\n * excluded trackers.\n * @param {Array} trackers an array or objects containing the `name` and\n *     `trackingId` fields.\n * @return {Function} The proxied ga() function.\n */\nfunction createGaProxy(trackers) {\n  return function (command) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = trackers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        (function () {\n          var name = _step.value.name;\n\n          if (typeof command == \"function\") {\n            window.ga(function () {\n              command(window.ga.getByName(name));\n            });\n          } else {\n            window.ga.apply(window, [\"\" + name + \".\" + command].concat(args));\n          }\n        })();\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  };\n}\n\nfunction serializeHit(model) {\n  var hit = {\n    hitType: model.get(\"hitType\"),\n    page: model.get(\"page\") };\n\n  var hitSource = model.get(dimensions.HIT_SOURCE);\n  if (hitSource && hitSource != NULL_VALUE) hit.hitSource = hitSource;\n\n  if (hit.hitType == \"event\") {\n    hit.eventCategory = model.get(\"eventCategory\");\n    hit.eventAction = model.get(\"eventAction\");\n    hit.eventLabel = model.get(\"eventLabel\");\n  }\n\n  hit.hitUuid = model.get(dimensions.HIT_UUID);\n  hit.hitTime = model.get(dimensions.HIT_TIME);\n\n  return Object.keys(hit).map(function (key) {\n    return \"\" + key + \"=\" + decodeURIComponent(hit[key]);\n  }).join(\"&\");\n}\n\n// Accepts a custom dimension or metric and returns it's numerical index.\nfunction getDefinitionIndex(definition) {\n  return +/\\d+$/.exec(definition)[0];\n}\n\n/**\n * Randomize array element order in-place.\n * Using Durstenfeld shuffle algorithm.\n * http://goo.gl/91pjZs\n * @param {Array} array The input array.\n * @return {Array} The randomized array.\n */\nfunction shuffleArray(array) {\n  for (var i = array.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n  return array;\n}\n\n/*eslint-disable */\n// https://gist.github.com/jed/982883\nvar uuid = function b(a) {\n  return a ? (a ^ Math.random() * 16 >> a / 4).toString(16) : ([10000000] + -1000 + -4000 + -8000 + -100000000000).replace(/[018]/g, b);\n};\n/*eslint-enable */\n// Ensure all events are interactive.\n\n},{\"./analytics-storage\":2,\"autotrack/lib/plugins/clean-url-tracker\":6,\"autotrack/lib/plugins/event-tracker\":7,\"autotrack/lib/plugins/media-query-tracker\":8,\"autotrack/lib/plugins/outbound-link-tracker\":9,\"autotrack/lib/plugins/page-visibility-tracker\":10,\"autotrack/lib/plugins/social-widget-tracker\":11}],4:[function(require,module,exports){\n\"use strict\";\n\nvar supports = {};\nvar style = document.body.style;\n\nmodule.exports = {\n  flexbox: function flexbox() {\n    return supports.flexbox || (supports.flexbox = \"flexBasis\" in style || \"msFlexAlign\" in style || \"webkitBoxDirection\" in style);\n  }\n};\n\n},{}],5:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nmodule.exports = {\n  VERSION: '1.0.0',\n  DEV_ID: 'i5iSjo',\n\n  VERSION_PARAM: '&_av',\n  USAGE_PARAM: '&_au',\n\n  NULL_DIMENSION: '(not set)'\n};\n\n},{}],6:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar parseUrl = require('dom-utils/lib/parse-url');\nvar constants = require('../constants');\nvar provide = require('../provide');\nvar usage = require('../usage');\n\n\n/**\n * Registers clean URL tracking on a tracker object. The clean URL tracker\n * removes query parameters from the page value reported to Google Analytics.\n * It also helps to prevent tracking similar URLs, e.g. sometimes ending a URL\n * with a slash and sometimes not.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction CleanUrlTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.CLEAN_URL_TRACKER);\n\n  this.opts = assign({\n    stripQuery: false,\n    queryDimensionIndex: null,\n    indexFilename: null,\n    trailingSlash: null\n  }, opts);\n\n  this.tracker = tracker;\n\n  this.overrideTrackerBuildHitTask();\n}\n\n\n/**\n * Cleans the URL based on the preferences set in the configuration options.\n * @param {Object} model An analytics.js Model object.\n */\nCleanUrlTracker.prototype.cleanUrlTask = function(model) {\n\n  var location = model.get('location');\n  var page = model.get('page');\n  var url = parseUrl(page || location);\n\n  var oldPath = url.pathname;\n  var newPath = oldPath;\n\n  // If an index filename was provided, remove it if it appears at the end\n  // of the URL.\n  if (this.opts.indexFilename) {\n    var parts = newPath.split('/');\n    if (this.opts.indexFilename == parts[parts.length - 1]) {\n      parts[parts.length - 1] = '';\n      newPath = parts.join('/');\n    }\n  }\n\n  // Ensure the URL ends with or doesn't end with slash based on the\n  // `trailingSlash` option. Note that filename URLs should never contain\n  // a trailing slash.\n  if (this.opts.trailingSlash == 'remove') {\n      newPath = newPath.replace(/\\/+$/, '');\n  }\n  else if (this.opts.trailingSlash == 'add') {\n    var isFilename = /\\.\\w+$/.test(newPath);\n    if (!isFilename && newPath.substr(-1) != '/') {\n      newPath = newPath + '/';\n    }\n  }\n\n  // If a query dimensions index was provided, set the query string portion\n  // of the URL on that dimension. If no query string exists on the URL use\n  // the NULL_DIMENSION.\n  if (this.opts.stripQuery && this.opts.queryDimensionIndex) {\n    model.set('dimension' + this.opts.queryDimensionIndex,\n        url.query || constants.NULL_DIMENSION);\n  }\n\n  model.set('page', newPath + (!this.opts.stripQuery ? url.search : ''));\n};\n\n\n/**\n * Overrides the tracker's `buildHitTask` to check for proper URL formatting\n * on every hit (not just the initial pageview).\n */\nCleanUrlTracker.prototype.overrideTrackerBuildHitTask = function() {\n  this.originalTrackerBuildHitTask = this.tracker.get('buildHitTask');\n\n  this.tracker.set('buildHitTask', function(model) {\n    this.cleanUrlTask(model);\n    this.originalTrackerBuildHitTask(model);\n  }.bind(this));\n};\n\n\n/**\n * Restores all overridden tasks and methods.\n */\nCleanUrlTracker.prototype.remove = function() {\n  this.tracker.set('sendHitTask', this.originalTrackerSendHitTask);\n};\n\n\nprovide('cleanUrlTracker', CleanUrlTracker);\n\n},{\"../constants\":5,\"../provide\":12,\"../usage\":13,\"dom-utils/lib/parse-url\":23,\"object-assign\":15}],7:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar delegate = require('dom-utils/lib/delegate');\nvar provide = require('../provide');\nvar usage = require('../usage');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar getAttributeFields = require('../utilities').getAttributeFields;\n\n\n/**\n * Registers declarative event tracking.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction EventTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.EVENT_TRACKER);\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = assign({\n    events: ['click'],\n    fieldsObj: {},\n    attributePrefix: 'ga-',\n    hitFilter: null\n  }, opts);\n\n  this.tracker = tracker;\n\n  // Binds methods.\n  this.handleEvents = this.handleEvents.bind(this);\n\n  var selector = '[' + this.opts.attributePrefix + 'on]';\n\n  // Creates a mapping of events to their delegates\n  this.delegates = {};\n  this.opts.events.forEach(function(event) {\n    this.delegates[event] = delegate(document, event, selector,\n        this.handleEvents, {deep: true, useCapture: true});\n  }.bind(this));\n}\n\n\n/**\n * Handles all clicks on elements with event attributes.\n * @param {Event} event The DOM click event.\n * @param {Element} element The delegated DOM element target.\n */\nEventTracker.prototype.handleEvents = function(event, element) {\n\n  var prefix = this.opts.attributePrefix;\n\n  // Ensures the event type matches the one specified on the element.\n  if (event.type != element.getAttribute(prefix + 'on')) return;\n\n  var defaultFields = {transport: 'beacon'};\n  var attributeFields = getAttributeFields(element, prefix);\n  var userFields = assign({}, this.opts.fieldsObj, attributeFields);\n  var hitType = attributeFields.hitType || 'event';\n\n  this.tracker.send(hitType, createFieldsObj(\n      defaultFields, userFields, this.tracker, this.opts.hitFilter, element));\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nEventTracker.prototype.remove = function() {\n  Object.keys(this.delegates).forEach(function(key) {\n    this.delegates[key].destroy();\n  }.bind(this));\n};\n\n\nprovide('eventTracker', EventTracker);\n\n},{\"../provide\":12,\"../usage\":13,\"../utilities\":14,\"dom-utils/lib/delegate\":19,\"object-assign\":15}],8:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar debounce = require('debounce');\nvar constants = require('../constants');\nvar provide = require('../provide');\nvar usage = require('../usage');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar isObject = require('../utilities').isObject;\nvar toArray = require('../utilities').toArray;\n\n\n/**\n * Declares the MediaQueryListener instance cache.\n */\nvar mediaMap = {};\n\n\n/**\n * Registers media query tracking.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction MediaQueryTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.MEDIA_QUERY_TRACKER);\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.matchMedia) return;\n\n  this.opts = assign({\n    definitions: null,\n    changeTemplate: this.changeTemplate,\n    changeTimeout: 1000,\n    fieldsObj: {},\n    hitFilter: null\n  }, opts);\n\n  // Exits early if media query data doesn't exist.\n  if (!isObject(this.opts.definitions)) return;\n\n  this.opts.definitions = toArray(this.opts.definitions);\n  this.tracker = tracker;\n  this.changeListeners = [];\n\n  this.processMediaQueries();\n}\n\n\n/**\n * Loops through each media query definition, sets the custom dimenion data,\n * and adds the change listeners.\n */\nMediaQueryTracker.prototype.processMediaQueries = function() {\n  this.opts.definitions.forEach(function(definition) {\n    // Only processes definitions with a name and index.\n    if (definition.name && definition.dimensionIndex) {\n      var mediaName = this.getMatchName(definition);\n      this.tracker.set('dimension' + definition.dimensionIndex, mediaName);\n\n      this.addChangeListeners(definition);\n    }\n  }.bind(this));\n};\n\n\n/**\n * Takes a definition object and return the name of the matching media item.\n * If no match is found, the NULL_DIMENSION value is returned.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension.\n * @return {string} The name of the matched media or NULL_DIMENSION.\n */\nMediaQueryTracker.prototype.getMatchName = function(definition) {\n  var match;\n\n  definition.items.forEach(function(item) {\n    if (getMediaListener(item.media).matches) {\n      match = item;\n    }\n  });\n  return match ? match.name : constants.NULL_DIMENSION;\n};\n\n\n/**\n * Adds change listeners to each media query in the definition list.\n * Debounces the changes to prevent unnecessary hits from being sent.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.addChangeListeners = function(definition) {\n  definition.items.forEach(function(item) {\n    var mql = getMediaListener(item.media);\n    var fn = debounce(function() {\n      this.handleChanges(definition);\n    }.bind(this), this.opts.changeTimeout);\n\n    mql.addListener(fn);\n    this.changeListeners.push({mql: mql, fn: fn});\n  }.bind(this));\n};\n\n\n/**\n * Handles changes to the matched media. When the new value differs from\n * the old value, a change event is sent.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.handleChanges = function(definition) {\n  var newValue = this.getMatchName(definition);\n  var oldValue = this.tracker.get('dimension' + definition.dimensionIndex);\n\n  if (newValue !== oldValue) {\n    this.tracker.set('dimension' + definition.dimensionIndex, newValue);\n\n    var defaultFields = {\n      eventCategory: definition.name,\n      eventAction: 'change',\n      eventLabel: this.opts.changeTemplate(oldValue, newValue)\n    };\n    this.tracker.send('event', createFieldsObj(\n        defaultFields, this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n  }\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nMediaQueryTracker.prototype.remove = function() {\n  for (var i = 0, listener; listener = this.changeListeners[i]; i++) {\n    listener.mql.removeListener(listener.fn);\n  }\n};\n\n\n/**\n * Sets the default formatting of the change event label.\n * This can be overridden by setting the `changeTemplate` option.\n * @param {string} oldValue The value of the media query prior to the change.\n * @param {string} newValue The value of the media query after the change.\n * @return {string} The formatted event label.\n */\nMediaQueryTracker.prototype.changeTemplate = function(oldValue, newValue) {\n  return oldValue + ' => ' + newValue;\n};\n\n\n/**\n * Accepts a media query and returns a MediaQueryListener object.\n * Caches the values to avoid multiple unnecessary instances.\n * @param {string} media A media query value.\n * @return {MediaQueryListener} The matched media.\n */\nfunction getMediaListener(media) {\n  // Returns early if the media is cached.\n  if (mediaMap[media]) return mediaMap[media];\n\n  mediaMap[media] = window.matchMedia(media);\n  return mediaMap[media];\n}\n\n\nprovide('mediaQueryTracker', MediaQueryTracker);\n\n},{\"../constants\":5,\"../provide\":12,\"../usage\":13,\"../utilities\":14,\"debounce\":17,\"object-assign\":15}],9:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar delegate = require('dom-utils/lib/delegate');\nvar parseUrl = require('dom-utils/lib/parse-url');\nvar provide = require('../provide');\nvar usage = require('../usage');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar getAttributeFields = require('../utilities').getAttributeFields;\n\n\n/**\n * Registers outbound link tracking on a tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction OutboundLinkTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.OUTBOUND_LINK_TRACKER);\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = assign({\n    events: ['click'],\n    linkSelector: 'a',\n    shouldTrackOutboundLink: this.shouldTrackOutboundLink,\n    fieldsObj: {},\n    attributePrefix: 'ga-',\n    hitFilter: null\n  }, opts);\n\n  this.tracker = tracker;\n\n  // Binds methods.\n  this.handleLinkInteractions = this.handleLinkInteractions.bind(this);\n\n  // Creates a mapping of events to their delegates\n  this.delegates = {};\n  this.opts.events.forEach(function(event) {\n    this.delegates[event] = delegate(document, event, this.opts.linkSelector,\n        this.handleLinkInteractions, {deep: true, useCapture: true});\n  }.bind(this));\n}\n\n\n/**\n * Handles all interactions on link elements. A link is considered an outbound\n * link if its hostname property does not match location.hostname. When the\n * beacon transport method is not available, the links target is set to\n * \"_blank\" to ensure the hit can be sent.\n * @param {Event} event The DOM click event.\n * @param {Element} link The delegated event target.\n */\nOutboundLinkTracker.prototype.handleLinkInteractions = function(event, link) {\n\n  if (this.opts.shouldTrackOutboundLink(link, parseUrl)) {\n    // Opens outbound links in a new tab if the browser doesn't support\n    // the beacon transport method.\n    if (!navigator.sendBeacon) {\n      link.target = '_blank';\n    }\n\n    var defaultFields = {\n      transport: 'beacon',\n      eventCategory: 'Outbound Link',\n      eventAction: event.type,\n      eventLabel: link.href\n    };\n\n    var userFields = assign({}, this.opts.fieldsObj,\n        getAttributeFields(link, this.opts.attributePrefix));\n\n    this.tracker.send('event', createFieldsObj(\n        defaultFields, userFields, this.tracker, this.opts.hitFilter, link));\n  }\n};\n\n\n/**\n * Determines whether or not the tracker should send a hit when a link is\n * clicked. By default links with a hostname property not equal to the current\n * hostname are tracked.\n * @param {Element} link The link that was clicked on.\n * @param {Function} parseUrl A cross-browser utility method for url parsing.\n * @return {boolean} Whether or not the link should be tracked.\n */\nOutboundLinkTracker.prototype.shouldTrackOutboundLink =\n    function(link, parseUrl) {\n\n  var url = parseUrl(link.href);\n  return url.hostname != location.hostname &&\n      url.protocol.slice(0, 4) == 'http';\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nOutboundLinkTracker.prototype.remove = function() {\n  Object.keys(this.delegates).forEach(function(key) {\n    this.delegates[key].destroy();\n  }.bind(this));\n};\n\n\nprovide('outboundLinkTracker', OutboundLinkTracker);\n\n},{\"../provide\":12,\"../usage\":13,\"../utilities\":14,\"dom-utils/lib/delegate\":19,\"dom-utils/lib/parse-url\":23,\"object-assign\":15}],10:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar provide = require('../provide');\nvar usage = require('../usage');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar isObject = require('../utilities').isObject;\n\n\nvar DEFAULT_SESSION_TIMEOUT = 30; // 30 minutes.\n\n\n/**\n * Registers outbound link tracking on tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction PageVisibilityTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.PAGE_VISIBILITY_TRACKER);\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = assign({\n    sessionTimeout: DEFAULT_SESSION_TIMEOUT,\n    changeTemplate: this.changeTemplate,\n    hiddenMetricIndex: null,\n    visibleMetricIndex: null,\n    fieldsObj: {},\n    hitFilter: null\n  }, opts);\n\n  this.tracker = tracker;\n  this.visibilityState = document.visibilityState;\n\n  // Consider the plugin creation to be the start of the visibility change\n  // time calculations.\n  this.lastVisibilityChangeTime = +new Date;\n\n  // Binds methods to `this`.\n  this.handleVisibilityStateChange =\n      this.handleVisibilityStateChange.bind(this);\n\n  this.overrideTrackerSendMethod();\n  this.overrideTrackerSendHitTask();\n\n  document.addEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n}\n\n\n/**\n * Handles changes to `document.visibilityState`. This method sends events when\n * the visibility state changes during active sessions (active meaning the\n * session has not timed out). If the session has timed out, a return to a\n * visibility state of visible will trigger a new pageview (instead of a\n * visibility change event). Lastly, this method keeps track of the elapsed\n * time a document's visibility state was visible and sends that as the event\n * value for hidden events, allowing you to more accurately derive how long\n * a user spent active during a session.\n */\nPageVisibilityTracker.prototype.handleVisibilityStateChange = function() {\n\n  var defaultFields;\n  this.prevVisibilityState = this.visibilityState;\n  this.visibilityState = document.visibilityState;\n\n  if (this.sessionHasTimedOut()) {\n    // Prevents sending 'hidden' state hits when the session has timed out.\n    if (this.visibilityState == 'hidden') return;\n\n    if (this.visibilityState == 'visible') {\n      // If the session has timed out, a transition to \"visible\" should be\n      // considered a new pageview and a new session.\n      defaultFields = {transport: 'beacon'};\n      this.tracker.send('pageview', createFieldsObj(defaultFields,\n          this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n    }\n  }\n  else {\n    // Rounds the time up to the nearest second. If the rounded value is zero\n    // use 1 instead since unset metrics default to 0.\n    var timeDeltaInSeconds = Math.round(\n        (new Date - this.lastVisibilityChangeTime) / 1000) || 1;\n\n    defaultFields = {\n      transport: 'beacon',\n      eventCategory: 'Page Visibility',\n      eventAction: 'change',\n      eventLabel: this.opts.changeTemplate(\n          this.prevVisibilityState, this.visibilityState),\n      eventValue: timeDeltaInSeconds\n    };\n\n    // Changes to hidden are non interaction hits by default\n    if (this.visibilityState == 'hidden') defaultFields.nonInteraction = true;\n\n    // If a custom metric was specified for the current visibility state,\n    // give it the same as the event value.\n    var metric = this.opts[this.prevVisibilityState + 'MetricIndex'];\n    if (metric) defaultFields['metric' + metric] = timeDeltaInSeconds;\n\n    this.tracker.send('event', createFieldsObj(defaultFields,\n        this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n  }\n\n  // Updates the time the last visibility state change event occurred, so\n  // change events can report the delta.\n  this.lastVisibilityChangeTime = +new Date;\n};\n\n\n/**\n * Returns true if the session has not timed out. A session timeout occurs when\n * more than `this.opts.sessionTimeout` minutes has elapsed since the\n * tracker sent the previous hit.\n * @return {boolean} True if the session has timed out.\n */\nPageVisibilityTracker.prototype.sessionHasTimedOut = function() {\n  var minutesSinceLastHit = (new Date - this.lastHitTime) / (60 * 1000);\n  return this.opts.sessionTimeout < minutesSinceLastHit;\n};\n\n\n/**\n * Overrides the `tracker.send` method to send a pageview hit before the\n * current hit being sent if the session has timed out and the current hit is\n * not a pageview itself.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendMethod = function() {\n  this.originalTrackerSendMethod = this.tracker.send;\n\n  this.tracker.send = function() {\n    var args = Array.prototype.slice.call(arguments);\n    var firstArg = args[0];\n    var hitType = isObject(firstArg) ? firstArg.hitType : firstArg;\n    var isPageview = hitType == 'pageview';\n\n    if (!isPageview && this.sessionHasTimedOut()) {\n      var defaultFields = {transport: 'beacon'};\n      this.originalTrackerSendMethod.call(this.tracker, 'pageview',\n          createFieldsObj(defaultFields, this.opts.fieldsObj,\n              this.tracker, this.opts.hitFilter));\n    }\n\n    this.originalTrackerSendMethod.apply(this.tracker, args);\n  }.bind(this);\n};\n\n\n/**\n * Overrides the tracker's `sendHitTask` to record the time of the previous\n * hit. This is used to determine whether or not a session has timed out.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendHitTask = function() {\n  this.originalTrackerSendHitTask = this.tracker.get('sendHitTask');\n  this.lastHitTime = +new Date;\n\n  this.tracker.set('sendHitTask', function(model) {\n    this.originalTrackerSendHitTask(model);\n    this.lastHitTime = +new Date;\n  }.bind(this));\n};\n\n\n/**\n * Sets the default formatting of the change event label.\n * This can be overridden by setting the `changeTemplate` option.\n * @param {string} oldValue The value of the media query prior to the change.\n * @param {string} newValue The value of the media query after the change.\n * @return {string} The formatted event label.\n */\nPageVisibilityTracker.prototype.changeTemplate = function(oldValue, newValue) {\n  return oldValue + ' => ' + newValue;\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\n PageVisibilityTracker.prototype.remove = function() {\n  this.tracker.set('sendHitTask', this.originalTrackerSendHitTask);\n  this.tracker.send = this.originalTrackerSendMethod;\n\n  document.removeEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n};\n\n\nprovide('pageVisibilityTracker', PageVisibilityTracker);\n\n},{\"../provide\":12,\"../usage\":13,\"../utilities\":14,\"object-assign\":15}],11:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/* global FB, twttr */\n\n\nvar assign = require('object-assign');\nvar provide = require('../provide');\nvar usage = require('../usage');\nvar createFieldsObj = require('../utilities').createFieldsObj;\n\n\n/**\n * Registers social tracking on tracker object.\n * Supports both declarative social tracking via HTML attributes as well as\n * tracking for social events when using official Twitter or Facebook widgets.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction SocialWidgetTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.SOCIAL_WIDGET_TRACKER);\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = assign({\n    fieldsObj: {},\n    hitFilter: null\n  }, opts);\n\n  this.tracker = tracker;\n\n  // Binds methods to `this`.\n  this.addWidgetListeners = this.addWidgetListeners.bind(this);\n  this.addTwitterEventHandlers = this.addTwitterEventHandlers.bind(this);\n  this.handleTweetEvents = this.handleTweetEvents.bind(this);\n  this.handleFollowEvents = this.handleFollowEvents.bind(this);\n  this.handleLikeEvents = this.handleLikeEvents.bind(this);\n  this.handleUnlikeEvents = this.handleUnlikeEvents.bind(this);\n\n  if (document.readyState != 'complete') {\n    // Adds the widget listeners after the window's `load` event fires.\n    // If loading widgets using the officially recommended snippets, they\n    // will be available at `window.load`. If not users can call the\n    // `addWidgetListeners` method manually.\n    window.addEventListener('load', this.addWidgetListeners);\n  }\n  else {\n    this.addWidgetListeners();\n  }\n}\n\n\n/**\n * Invokes the methods to add Facebook and Twitter widget event listeners.\n * Ensures the respective global namespaces are present before adding.\n */\nSocialWidgetTracker.prototype.addWidgetListeners = function() {\n  if (window.FB) this.addFacebookEventHandlers();\n  if (window.twttr) this.addTwitterEventHandlers();\n};\n\n\n/**\n * Adds event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons. Note: this does not capture tweet or\n * follow events emitted by other Twitter widgets (tweet, timeline, etc.).\n */\nSocialWidgetTracker.prototype.addTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.bind('tweet', this.handleTweetEvents);\n      twttr.events.bind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons.\n */\nSocialWidgetTracker.prototype.removeTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.unbind('tweet', this.handleTweetEvents);\n      twttr.events.unbind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Adds event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialWidgetTracker.prototype.addFacebookEventHandlers = function() {\n  try {\n    FB.Event.subscribe('edge.create', this.handleLikeEvents);\n    FB.Event.subscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialWidgetTracker.prototype.removeFacebookEventHandlers = function() {\n  try {\n    FB.Event.unsubscribe('edge.create', this.handleLikeEvents);\n    FB.Event.unsubscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Handles `tweet` events emitted by the Twitter JS SDK.\n * @param {Object} event The Twitter event object passed to the handler.\n */\nSocialWidgetTracker.prototype.handleTweetEvents = function(event) {\n  // Ignores tweets from widgets that aren't the tweet button.\n  if (event.region != 'tweet') return;\n\n  var url = event.data.url || event.target.getAttribute('data-url') ||\n      location.href;\n\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Twitter',\n    socialAction: 'tweet',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `follow` events emitted by the Twitter JS SDK.\n * @param {Object} event The Twitter event object passed to the handler.\n */\nSocialWidgetTracker.prototype.handleFollowEvents = function(event) {\n  // Ignore follows from widgets that aren't the follow button.\n  if (event.region != 'follow') return;\n\n  var screenName = event.data.screen_name ||\n      event.target.getAttribute('data-screen-name');\n\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Twitter',\n    socialAction: 'follow',\n    socialTarget: screenName\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `like` events emitted by the Facebook JS SDK.\n * @param {string} url The URL corresponding to the like event.\n */\nSocialWidgetTracker.prototype.handleLikeEvents = function(url) {\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Facebook',\n    socialAction: 'like',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `unlike` events emitted by the Facebook JS SDK.\n * @param {string} url The URL corresponding to the unlike event.\n */\nSocialWidgetTracker.prototype.handleUnlikeEvents = function(url) {\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Facebook',\n    socialAction: 'unlike',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nSocialWidgetTracker.prototype.remove = function() {\n  window.removeEventListener('load', this.addWidgetListeners);\n  this.removeFacebookEventHandlers();\n  this.removeTwitterEventHandlers();\n};\n\n\nprovide('socialWidgetTracker', SocialWidgetTracker);\n\n},{\"../provide\":12,\"../usage\":13,\"../utilities\":14,\"object-assign\":15}],12:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar constants = require('./constants');\nvar utilities = require('./utilities');\n\n\n// Adds the dev ID to the list of dev IDs if any plugin is used.\n(window.gaDevIds = window.gaDevIds || []).push(constants.DEV_ID);\n\n\n/**\n * Provides a plugin for use with analytics.js, accounting for the possibility\n * that the global command queue has been renamed or not yet defined.\n * @param {string} pluginName The plugin name identifier.\n * @param {Function} pluginConstructor The plugin constructor function.\n */\nmodule.exports = function providePlugin(pluginName, pluginConstructor) {\n  var gaAlias = window['GoogleAnalyticsObject'] || 'ga';\n  window[gaAlias] = window[gaAlias] || function() {\n    (window[gaAlias]['q'] = window[gaAlias]['q'] || []).push(arguments);\n  };\n\n  // Formally provides the plugin for use with analytics.js.\n  window[gaAlias]('provide', pluginName, pluginConstructor);\n\n  // Registers the plugin on the global gaplugins object.\n  window.gaplugins = window.gaplugins || {};\n  window.gaplugins[utilities.capitalize(pluginName)] = pluginConstructor;\n};\n\n},{\"./constants\":5,\"./utilities\":14}],13:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar constants = require('./constants');\n\n\nvar plugins = {\n  CLEAN_URL_TRACKER: 1,\n  EVENT_TRACKER: 2,\n  IMPRESSION_TRACKER: 3,\n  MEDIA_QUERY_TRACKER: 4,\n  OUTBOUND_FORM_TRACKER: 5,\n  OUTBOUND_LINK_TRACKER: 6,\n  PAGE_VISIBILITY_TRACKER: 7,\n  SOCIAL_WIDGET_TRACKER: 8,\n  URL_CHANGE_TRACKER: 9\n};\nvar PLUGIN_COUNT = 9;\n\n\n/**\n * Converts a hexadecimal string to a binary string.\n * @param {string} hex A hexadecimal numeric string.\n * @return {string} a binary numeric string.\n */\nfunction convertHexToBin(hex) {\n  return parseInt(hex || '0', 16).toString(2);\n}\n\n\n/**\n * Converts a binary string to a hexadecimal string.\n * @param {string} bin A binary numeric string.\n * @return {string} a hexadecimal numeric string.\n */\nfunction convertBinToHex(bin) {\n  return parseInt(bin || '0', 2).toString(16);\n}\n\n\n/**\n * Adds leading zeros to a string if it's less than a minimum length.\n * @param {string} str A string to pad.\n * @param {number} len The minimum length of the string\n * @return {string} The padded string.\n */\nfunction padZeros(str, len) {\n  if (str.length < len) {\n    var toAdd = len - str.length;\n    while (toAdd) {\n      str = '0' + str;\n      toAdd--;\n    }\n  }\n  return str;\n}\n\n\n/**\n * Accepts a binary numeric string and flips the digit from 0 to 1 at the\n * specified index.\n * @param {string} str The binary numeric string.\n * @param {number} index The index to flip the bit.\n * @return {string} The new binary string with the bit flipped on\n */\nfunction flipBitOn(str, index) {\n  return str.substr(0, index) + 1 + str.substr(index + 1);\n}\n\n\n/**\n * Accepts a tracker and a plugin index and flips the bit at the specified\n * index on the tracker's usage parameter.\n * @param {Object} tracker An analytics.js tracker.\n * @param {number} pluginIndex The index of the plugin in the global list.\n */\nfunction trackPlugin(tracker, pluginIndex) {\n  var usageHex = tracker.get(constants.USAGE_PARAM);\n  var usageBin = padZeros(convertHexToBin(usageHex), PLUGIN_COUNT);\n\n  // Flip the bit of the plugin being tracked.\n  usageBin = flipBitOn(usageBin, PLUGIN_COUNT - pluginIndex);\n\n  // Stores the modified usage string back on the tracker.\n  tracker.set(constants.USAGE_PARAM, convertBinToHex(usageBin));\n}\n\n\n/**\n * Accepts a tracker and adds the current version to the version param.\n * @param {Object} tracker An analytics.js tracker.\n */\nfunction trackVersion(tracker) {\n  tracker.set(constants.VERSION_PARAM, constants.VERSION);\n}\n\n\nmodule.exports = {\n  track: function(tracker, plugin) {\n    trackVersion(tracker);\n    trackPlugin(tracker, plugin);\n  },\n  plugins: plugins\n};\n\n},{\"./constants\":5}],14:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar getAttributes = require('dom-utils/lib/get-attributes');\n\n\nvar utilities = {\n\n\n  /**\n   * Accepts default and user override fields and an optional tracker, hit\n   * filter, and target element and returns a single object that can be used in\n   * `ga('send', ...)` commands.\n   * @param {Object} defaultFields The default fields to return.\n   * @param {Object} userFields Fields set by the user to override the defaults.\n   * @param {Object} opt_tracker The tracker object to apply the hit filter to.\n   * @param {Function} opt_hitFilter A filter function that gets\n   *     called with the tracker model right before the `buildHitTask`. It can\n   *     be used to modify the model for the current hit only.\n   * @param {Element} opt_target If the hit originated from an interaction\n   *     with a DOM element, hitFilter is invoked with that element as the\n   *     second argument.\n   * @return {Object} The final fields object.\n   */\n  createFieldsObj: function(\n      defaultFields, userFields, opt_tracker, opt_hitFilter, opt_target) {\n\n    if (typeof opt_hitFilter == 'function') {\n      var originalBuildHitTask = opt_tracker.get('buildHitTask');\n      return {\n        buildHitTask: function(model) {\n          model.set(defaultFields, null, true);\n          model.set(userFields, null, true);\n          opt_hitFilter(model, opt_target);\n          originalBuildHitTask(model);\n        }\n      };\n    }\n    else {\n      return assign({}, defaultFields, userFields);\n    }\n  },\n\n\n  /**\n   * Retrieves the attributes from an DOM element and returns a fields object\n   * for all attributes matching the passed prefix string.\n   * @param {Element} element The DOM element to get attributes from.\n   * @param {string} prefix An attribute prefix. Only the attributes matching\n   *     the prefix will be returned on the fields object.\n   * @return {Object} An object of analytics.js fields and values\n   */\n  getAttributeFields: function(element, prefix) {\n    var attributes = getAttributes(element);\n    var attributeFields = {};\n\n    Object.keys(attributes).forEach(function(attribute) {\n\n      // The `on` prefix is used for event handling but isn't a field.\n      if (attribute.indexOf(prefix) === 0 && attribute != prefix + 'on') {\n\n        var value = attributes[attribute];\n\n        // Detects Boolean value strings.\n        if (value == 'true') value = true;\n        if (value == 'false') value = false;\n\n        var field = utilities.camelCase(attribute.slice(prefix.length));\n        attributeFields[field] = value;\n      }\n    });\n\n    return attributeFields;\n  },\n\n\n  domReady: function(callback) {\n    if (document.readyState == 'loading') {\n      document.addEventListener('DOMContentLoaded', function fn() {\n        document.removeEventListener('DOMContentLoaded', fn);\n        callback();\n      });\n    } else {\n      callback();\n    }\n  },\n\n\n  /**\n   * Accepts a function and returns a wrapped version of the function that is\n   * expected to be called elsewhere in the system. If it's not called\n   * elsewhere after the timeout period, it's called regardless. The wrapper\n   * function also prevents the callback from being called more than once.\n   * @param {Function} callback The function to call.\n   * @param {number} wait How many milliseconds to wait before invoking\n   *     the callback.\n   * @returns {Function} The wrapped version of the passed function.\n   */\n  withTimeout: function(callback, wait) {\n    var called = false;\n    setTimeout(callback, wait || 2000);\n    return function() {\n      if (!called) {\n        called = true;\n        callback();\n      }\n    };\n  },\n\n\n  /**\n   * Accepts a string containing hyphen or underscore word separators and\n   * converts it to camelCase.\n   * @param {string} str The string to camelCase.\n   * @return {string} The camelCased version of the string.\n   */\n  camelCase: function(str) {\n    return str.replace(/[\\-\\_]+(\\w?)/g, function(match, p1) {\n      return p1.toUpperCase();\n    });\n  },\n\n\n  /**\n   * Capitalizes the first letter of a string.\n   * @param {string} str The input string.\n   * @return {string} The capitalized string\n   */\n  capitalize: function(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  },\n\n\n  /**\n   * Indicates whether the passed variable is a JavaScript object.\n   * @param {*} value The input variable to test.\n   * @return {boolean} Whether or not the test is an object.\n   */\n  isObject: function(value) {\n    return typeof value == 'object' && value !== null;\n  },\n\n\n  /**\n   * Indicates whether the passed variable is a JavaScript array.\n   * @param {*} value The input variable to test.\n   * @return {boolean} Whether or not the value is an array.\n   */\n  isArray: Array.isArray || function(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n  },\n\n\n  /**\n   * Accepts a value that may or may not be an array. If it is not an array,\n   * it is returned as the first item in a single-item array.\n   * @param {*} value The value to convert to an array if it is not.\n   * @return {Array} The array-ified value.\n   */\n  toArray: function(value) {\n    return utilities.isArray(value) ? value : [value];\n  }\n};\n\nmodule.exports = utilities;\n\n},{\"dom-utils/lib/get-attributes\":20,\"object-assign\":15}],15:[function(require,module,exports){\n'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],16:[function(require,module,exports){\nmodule.exports = Date.now || now\n\nfunction now() {\n    return new Date().getTime()\n}\n\n},{}],17:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar now = require('date-now');\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = now() - timestamp;\n\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n};\n\n},{\"date-now\":16}],18:[function(require,module,exports){\nvar matches = require('./matches');\nvar parents = require('./parents');\n\n/**\n * Gets the closest parent element that matches the passed selector.\n * @param {Element} element The element whose parents to check.\n * @param {string} selector The CSS selector to match against.\n * @param {boolean} shouldCheckSelf True if the selector should test against\n *     the passed element itself.\n * @return {?Element} The matching element or undefined.\n */\nmodule.exports = function closest(element, selector, shouldCheckSelf) {\n  if (!(element && element.nodeType == 1 && selector)) return;\n\n  var parentElements =\n      (shouldCheckSelf ? [element] : []).concat(parents(element));\n\n  for (var i = 0, parent; parent = parentElements[i]; i++) {\n    if (matches(parent, selector)) return parent;\n  }\n};\n\n},{\"./matches\":21,\"./parents\":22}],19:[function(require,module,exports){\nvar closest = require('./closest');\nvar matches = require('./matches');\n\n/**\n * Delegates the handling of events for an element matching a selector to an\n * ancestor of the matching element.\n * @param {Element} ancestor The ancestor element to add the listener to.\n * @param {string} eventType The event type to listen to.\n * @param {string} selector A CSS selector to match against child elements.\n * @param {Function} callback A function to run any time the event happens.\n * @param {Object} opts A configuration options object. The available options:\n *     - useCapture<boolean>: If true, bind to the event capture phase.\n *     - deep<boolean>: If true, delegate into shadow trees.\n * @return {Object} The delegate object. It contains a destroy method.\n */\n module.exports = function delegate(\n    ancestor, eventType, selector, callback, opts) {\n\n  opts = opts || {};\n\n  // Defines the event listener.\n  var listener = function(event) {\n\n    // If opts.deep is true and the event originated from inside a Shadow DOM,\n    // check the deep nodes.\n    if (opts.deep && typeof event.deepPath == 'function') {\n      var path = event.deepPath();\n      for (var i = 0, node; node = path[i]; i++) {\n        if (node.nodeType == 1 && matches(node, selector)) {\n          delegateTarget = node;\n        }\n      }\n    }\n    // Otherwise check the parents.\n    else {\n      var delegateTarget = closest(event.target, selector, true);\n    }\n\n    if (delegateTarget) {\n      callback.call(delegateTarget, event, delegateTarget);\n    }\n  };\n\n  ancestor.addEventListener(eventType, listener, opts.useCapture);\n\n  return {\n    destroy: function() {\n      ancestor.removeEventListener(eventType, listener, opts.useCapture);\n    }\n  };\n};\n\n},{\"./closest\":18,\"./matches\":21}],20:[function(require,module,exports){\n/**\n * Gets all attributes of an element as a plain JavaScriot object.\n * @param {Element} element The element whose attributes to get.\n * @return {Object} An object whose keys are the attribute keys and whose\n *     values are the attribute values. If no attributes exist, an empty\n *     object is returned.\n */\nmodule.exports = function getAttributes(element) {\n  var attrs = {};\n\n  // Validate input.\n  if (!(element && element.nodeType == 1)) return attrs;\n\n  // Return an empty object if there are no attributes.\n  var map = element.attributes;\n  if (map.length === 0) return {};\n\n  for (var i = 0, attr; attr = map[i]; i++) {\n    attrs[attr.name] = attr.value;\n  }\n  return attrs;\n};\n\n},{}],21:[function(require,module,exports){\nvar proto = Element.prototype;\nvar nativeMatches = proto.matches ||\n    proto.matchesSelector ||\n    proto.webkitMatchesSelector ||\n    proto.mozMatchesSelector ||\n    proto.msMatchesSelector ||\n    proto.oMatchesSelector;\n\n\n/**\n * Tests whether a DOM element matches a selector. This polyfills the native\n * Element.prototype.matches method across browsers.\n * @param {Element} element The DOM element to test.\n * @param {string} selector The CSS selector to test element against.\n * @return {boolean} True if the selector matches.\n */\n function matchesSelector(element, selector) {\n  if (typeof selector != 'string') return false;\n  if (nativeMatches) return nativeMatches.call(element, selector);\n  var nodes = element.parentNode.querySelectorAll(selector);\n  for (var i = 0, node; node = nodes[i]; i++) {\n    if (node == element) return true;\n  }\n  return false;\n}\n\n\n/**\n * Tests if a DOM elements matches any of the test DOM elements or selectors.\n * @param {Element} element The DOM element to test.\n * @param {Element|string|Array<Element|String>} test A DOM element, a CSS\n *     selector, or an array of DOM elements or CSS selectors to match against.\n * @return {boolean} True of any part of the test matches.\n */\nmodule.exports = function matches(element, test) {\n  // Validate input.\n  if (element && element.nodeType == 1 && test) {\n    // if test is a string or DOM element test it.\n    if (typeof test == 'string' || test.nodeType == 1) {\n      return element == test || matchesSelector(element, test);\n    }\n    // if it has a length property iterate over the items\n    // and return true if any match.\n    else if ('length' in test) {\n      for (var i = 0, item; item = test[i]; i++) {\n        if (element == item || matchesSelector(element, item)) return true;\n      }\n    }\n  }\n  // Still here? Return false\n  return false;\n};\n\n},{}],22:[function(require,module,exports){\n/**\n * Returns an array of a DOM element's parent elements.\n * @param {Element} element The DOM element whose parents to get.\n * @return {Array} An array of all parent elemets, or an empty array if no\n *     parent elements are found.\n */\nmodule.exports = function parents(element) {\n  var list = [];\n  while (element && element.parentNode && element.parentNode.nodeType == 1) {\n    list.push(element = element.parentNode);\n  }\n  return list;\n};\n\n},{}],23:[function(require,module,exports){\nvar HTTP_PORT = '80';\nvar HTTPS_PORT = '443';\nvar DEFAULT_PORT = RegExp(':(' + HTTP_PORT + '|' + HTTPS_PORT + ')$');\n\n\nvar a = document.createElement('a');\nvar cache = {};\n\n\n/**\n * Parses the given url and returns an object mimicing a `Location` object.\n * @param {string} url The url to parse.\n * @return {Object} An object with the same properties as a `Location`\n *    plus the convience properties `path` and `query`.\n */\nmodule.exports = function parseUrl(url) {\n\n  // All falsy values (as well as \".\") should map to the current URL.\n  url = (!url || url == '.') ? location.href : url;\n\n  if (cache[url]) return cache[url];\n\n  a.href = url;\n\n  // When parsing file relative paths (e.g. `../index.html`), IE will correctly\n  // resolve the `href` property but will keep the `..` in the `path` property.\n  // To workaround this, we reparse with the full URL from the `href` property.\n  if (url.charAt(0) == '.') return parseUrl(a.href);\n\n  // Sometimes IE will return no port or just a colon, especially for things\n  // like relative port URLs (e.g. \"//google.com\").\n  var protocol = !a.protocol || ':' == a.protocol ?\n      location.protocol : a.protocol;\n\n  // Don't include default ports.\n  var port = (a.port == HTTP_PORT || a.port == HTTPS_PORT) ? '' : a.port;\n\n  // PhantomJS sets the port to \"0\" when using the file: protocol.\n  port = port == '0' ? '' : port;\n\n  // IE will return an empty string for host and hostname with a relative URL.\n  var host = a.host == '' ? location.host : a.host;\n  var hostname = a.hostname == '' ? location.hostname : a.hostname;\n\n  // Sometimes IE incorrectly includes a port for default ports\n  // (e.g. `:80` or `:443`) even when no port is specified in the URL.\n  // http://bit.ly/1rQNoMg\n  host = host.replace(DEFAULT_PORT, '');\n\n  // Not all browser support `origin` so we have to build it.\n  var origin = a.origin ? a.origin : protocol + '//' + host;\n\n  // Sometimes IE doesn't include the leading slash for pathname.\n  // http://bit.ly/1rQNoMg\n  var pathname = a.pathname.charAt(0) == '/' ? a.pathname : '/' + a.pathname;\n\n  return cache[url] = {\n    hash: a.hash,\n    host: host,\n    hostname: hostname,\n    href: a.href,\n    origin: origin,\n\n    pathname: pathname,\n    port: port,\n    protocol: protocol,\n    search: a.search,\n\n    // Expose additional helpful properties not part of the Location object.\n    fragment: a.hash.slice(1), // The hash without the starting \"#\".\n    path: pathname + a.search, // The pathname and the search query (w/o hash).\n    query: a.search.slice(1) // The search without the starting \"?\".\n  };\n};\n\n},{}]},{},[1])\n\n","import './analytics';\nimport supports from './supports';\n\n\n// Add an `is-legacy` class on browsers that don't supports flexbox.\nif (!supports.flexbox()) {\n  let div = document.createElement('div');\n  div.className = 'Error';\n  div.innerHTML = `Your browser does not support Flexbox.\n                   Parts of this site may not appear as expected.`;\n\n  document.body.insertBefore(div, document.body.firstChild);\n}\n","const GA_LOCAL_STORAGE_KEY = '_ga';\n\n\n// Schema:\n// ---------------------\n// {\n//   clientId: String(),\n//   trackers: {\n//     [name]: {\n//       index: Number,\n//       time: Number,\n//       payload: String\n//     }\n//   }\n// }\n\n\nexport function getStoredData() {\n  let data;\n  try {\n    data = JSON.parse(window.localStorage.getItem(GA_LOCAL_STORAGE_KEY));\n  } catch (err) {\n    // Do nothing...\n  }\n  data = data || {};\n  data.trackers = data.trackers || {};\n  return data;\n}\n\n\nexport function getStoredTrackerData(name) {\n  let data = getStoredData();\n  return data.trackers[name] || {};\n}\n\n\nexport function setStoredData(data) {\n  try {\n    window.localStorage.setItem(GA_LOCAL_STORAGE_KEY, JSON.stringify(data));\n  } catch(err) {\n    // Do nothing...\n  }\n}\n\n\nexport function setStoredTrackerData(name, trackerData) {\n  let data = getStoredData();\n  data.trackers[name] = trackerData;\n  setStoredData(data);\n}\n","import 'autotrack/lib/plugins/clean-url-tracker';\nimport 'autotrack/lib/plugins/event-tracker';\nimport 'autotrack/lib/plugins/media-query-tracker';\nimport 'autotrack/lib/plugins/outbound-link-tracker';\nimport 'autotrack/lib/plugins/page-visibility-tracker';\nimport 'autotrack/lib/plugins/social-widget-tracker';\n\n\nimport {\n  getStoredData,\n  getStoredTrackerData,\n  setStoredData,\n  setStoredTrackerData\n} from './analytics-storage';\n\n\n/**\n * A global list of tracker object, randomized to ensure no one tracker\n * data is always sent first.\n */\nconst ALL_TRACKERS = shuffleArray([\n  {name: 't0', trackingId: 'UA-40829935-1'},\n  {name: 'testing', trackingId: 'UA-40829935-4'}\n]);\nconst PROD_TRACKERS = ALL_TRACKERS.filter(({name}) => !/test/.test(name));\nconst TEST_TRACKERS = ALL_TRACKERS.filter(({name}) => /test/.test(name));\n\n\nconst NULL_VALUE = '(not set)';\n\n\nconst metrics = {\n  PAGE_VISIBLE: 'metric1',\n  PAGE_HIDDEN: 'metric2'\n};\n\n\nconst dimensions = {\n  BREAKPOINT: 'dimension1',\n  RESOLUTION: 'dimension2',\n  ORIENTATION: 'dimension3',\n  HIT_SOURCE: 'dimension4',\n  URL_QUERY_PARAMS: 'dimension5',\n  METRIC_VALUE: 'dimension6',\n  CLIENT_ID: 'dimension7',\n  HIT_INDEX: 'dimension8',\n  PREVIOUS_HIT_PAYLOAD: 'dimension9',\n  HIT_TYPE: 'dimension10',\n  HIT_UUID: 'dimension11',\n  HIT_TIME: 'dimension12',\n};\n\n\n// The command queue proxies.\nlet gaAll = createGaProxy(ALL_TRACKERS);\nlet gaProd = createGaProxy(PROD_TRACKERS);\nlet gaTest = createGaProxy(TEST_TRACKERS);\n\n\n// Delays running any analytics until after the load event\n// to ensure beacons don't block resources.\nwindow.onload = function() {\n  createTrackers();\n  trackErrors();\n  setDefaultDimensionValues();\n  requirePlugins();\n  trackClientId();\n  initSessionControl();\n  sendInitialPageview();\n};\n\n\nfunction createTrackers() {\n  let fields = {siteSpeedSampleRate: 10};\n  let data = getStoredData();\n  for (let tracker of PROD_TRACKERS) {\n    window.ga('create', tracker.trackingId, 'auto', tracker.name, fields);\n  }\n  window.ga(function() {\n    let tracker = window.ga.getAll()[0];\n    data.clientId = tracker.get('clientId') || data.clientId;\n    setStoredData(data);\n\n    for (let tracker of TEST_TRACKERS) {\n      if (data.clientId) fields.clientId = data.clientId;\n      if (window.localStorage) fields.storage = 'none';\n      window.ga('create', tracker.trackingId, 'auto', tracker.name, fields);\n    }\n  });\n}\n\n\nfunction trackErrors() {\n  // Errors that have occurred prior to this script running are stored on\n  // the `q` property of the window.onerror function.\n  let errorQueue = window.onerror.q || [];\n\n  // Override the temp `onerror()` handler to now send hits to GA.\n  window.onerror = function(msg, file, line, col, error) {\n    gaAll('send', 'event', {\n      eventCategory: 'Script',\n      eventAction: 'uncaught error',\n      eventLabel: error ? error.stack : `${msg}\\n${file}:${line}:${col}`\n    });\n  };\n\n  // Replay any stored errors in the queue.\n  for (let error of errorQueue) {\n    window.onerror(...error);\n  }\n}\n\n\nfunction setDefaultDimensionValues() {\n  Object.keys(dimensions).forEach((key) => {\n    gaAll('set', dimensions[key], NULL_VALUE);\n  });\n}\n\n\nfunction requirePlugins() {\n  gaAll('require', 'cleanUrlTracker', {\n    stripQuery: true,\n    queryDimensionIndex: getDefinitionIndex(dimensions.URL_QUERY_PARAMS),\n    indexFilename: 'index.html',\n    trailingSlash: 'add'\n  });\n  gaProd('require', 'eventTracker');\n  gaProd('require', 'mediaQueryTracker', {\n    definitions: [\n      {\n        name: 'Breakpoint',\n        dimensionIndex: 1,\n        items: [\n          {name: 'xs', media: 'all'},\n          {name: 'sm', media: '(min-width: 384px)'},\n          {name: 'md', media: '(min-width: 576px)'},\n          {name: 'lg', media: '(min-width: 768px)'}\n        ]\n      },\n      {\n        name: 'Resolution',\n        dimensionIndex: 2,\n        items: [\n          {name: '1x',   media: 'all'},\n          {name: '1.5x', media: '(-webkit-min-device-pixel-ratio: 1.5), ' +\n                                '(min-resolution: 144dpi)'},\n          {name: '2x',   media: '(-webkit-min-device-pixel-ratio: 2), ' +\n                                '(min-resolution: 192dpi)'},\n        ]\n      },\n      {\n        name: 'Orientation',\n        dimensionIndex: 3,\n        items: [\n          {name: 'landscape', media: '(orientation: landscape)'},\n          {name: 'portrait',  media: '(orientation: portrait)'}\n        ]\n      }\n    ]\n  });\n  gaAll('require', 'outboundLinkTracker');\n  gaProd('require', 'pageVisibilityTracker', {\n    visibleMetricIndex: getDefinitionIndex(metrics.PAGE_VISIBLE),\n    hiddenMetricIndex: getDefinitionIndex(metrics.PAGE_HIDDEN),\n    fieldsObj: {\n      nonInteraction: null, // Ensure all events are interactive.\n      [dimensions.HIT_SOURCE]: 'pageVisibilityTracker'\n    },\n    hitFilter: function(model) {\n      model.set(dimensions.METRIC_VALUE, String(model.get('eventValue')), true);\n    }\n  });\n  gaProd('require', 'socialWidgetTracker');\n}\n\n\nfunction trackClientId() {\n  gaAll(function(tracker) {\n    let clientId = tracker.get('clientId');\n    tracker.set(dimensions.CLIENT_ID, clientId);\n  });\n}\n\n\nfunction initSessionControl() {\n  gaTest(function(tracker) {\n    let originalBuildHitTask = tracker.get('buildHitTask');\n    let originalSendHitTask = tracker.get('sendHitTask');\n\n    tracker.set('buildHitTask', function(model) {\n      let name = tracker.get('name');\n      let trackerData = getStoredTrackerData(name);\n\n      model.set(dimensions.HIT_TYPE, model.get('hitType'), true);\n      model.set(dimensions.HIT_INDEX, String(trackerData.index || 0), true);\n      model.set(dimensions.HIT_TIME, String(+new Date), true);\n      model.set(dimensions.HIT_UUID, uuid(), true);\n\n      if (trackerData.payload) {\n        model.set(dimensions.PREVIOUS_HIT_PAYLOAD, trackerData.payload, true);\n      }\n\n      originalBuildHitTask(model);\n    });\n\n    tracker.set('sendHitTask', function(model) {\n      let name = tracker.get('name');\n      let hitTime = model.get(dimensions.HIT_TIME);\n      let trackerData = getStoredTrackerData(name);\n      trackerData.index = (trackerData.index || 0) + 1;\n      trackerData.time = hitTime;\n      trackerData.payload = serializeHit(model);\n      setStoredTrackerData(name, trackerData);\n\n      originalSendHitTask(model);\n    });\n  });\n}\n\n\nfunction sendInitialPageview() {\n  gaAll('send', 'pageview', {[dimensions.HIT_SOURCE]: 'pageload'});\n}\n\n\n/**\n * Creates a ga() proxy function that calls commands on all but the\n * excluded trackers.\n * @param {Array} trackers an array or objects containing the `name` and\n *     `trackingId` fields.\n * @return {Function} The proxied ga() function.\n */\nfunction createGaProxy(trackers) {\n  return function(command, ...args) {\n    for (let {name} of trackers) {\n      if (typeof command == 'function') {\n        window.ga(function() {\n          command(window.ga.getByName(name));\n        });\n      }\n      else {\n        window.ga(`${name}.${command}`, ...args);\n      }\n    }\n  };\n}\n\n\nfunction serializeHit(model) {\n  let hit = {\n    hitType: model.get('hitType'),\n    page: model.get('page'),\n  };\n\n  let hitSource = model.get(dimensions.HIT_SOURCE);\n  if (hitSource && hitSource != NULL_VALUE) hit.hitSource = hitSource;\n\n  if (hit.hitType == 'event') {\n    hit.eventCategory = model.get('eventCategory');\n    hit.eventAction = model.get('eventAction');\n    hit.eventLabel = model.get('eventLabel');\n  }\n\n  hit.hitUuid = model.get(dimensions.HIT_UUID);\n  hit.hitTime = model.get(dimensions.HIT_TIME);\n\n  return Object.keys(hit)\n      .map((key) => `${key}=${decodeURIComponent(hit[key])}`).join('&');\n}\n\n\n// Accepts a custom dimension or metric and returns it's numerical index.\nfunction getDefinitionIndex(definition) {\n  return +/\\d+$/.exec(definition)[0];\n}\n\n\n/**\n * Randomize array element order in-place.\n * Using Durstenfeld shuffle algorithm.\n * http://goo.gl/91pjZs\n * @param {Array} array The input array.\n * @return {Array} The randomized array.\n */\nfunction shuffleArray(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n    let j = Math.floor(Math.random() * (i + 1));\n    let temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n  return array;\n}\n\n\n/*eslint-disable */\n// https://gist.github.com/jed/982883\nconst uuid = function b(a){return a?(a^Math.random()*16>>a/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,b)};\n/*eslint-enable */","let supports = {};\nlet style = document.body.style;\n\nexport default {\n  flexbox: function() {\n    return supports.flexbox || (supports.flexbox = ('flexBasis' in style ||\n        'msFlexAlign' in style || 'webkitBoxDirection' in style));\n  }\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nmodule.exports = {\n  VERSION: '1.0.0',\n  DEV_ID: 'i5iSjo',\n\n  VERSION_PARAM: '&_av',\n  USAGE_PARAM: '&_au',\n\n  NULL_DIMENSION: '(not set)'\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar parseUrl = require('dom-utils/lib/parse-url');\nvar constants = require('../constants');\nvar provide = require('../provide');\nvar usage = require('../usage');\n\n\n/**\n * Registers clean URL tracking on a tracker object. The clean URL tracker\n * removes query parameters from the page value reported to Google Analytics.\n * It also helps to prevent tracking similar URLs, e.g. sometimes ending a URL\n * with a slash and sometimes not.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction CleanUrlTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.CLEAN_URL_TRACKER);\n\n  this.opts = assign({\n    stripQuery: false,\n    queryDimensionIndex: null,\n    indexFilename: null,\n    trailingSlash: null\n  }, opts);\n\n  this.tracker = tracker;\n\n  this.overrideTrackerBuildHitTask();\n}\n\n\n/**\n * Cleans the URL based on the preferences set in the configuration options.\n * @param {Object} model An analytics.js Model object.\n */\nCleanUrlTracker.prototype.cleanUrlTask = function(model) {\n\n  var location = model.get('location');\n  var page = model.get('page');\n  var url = parseUrl(page || location);\n\n  var oldPath = url.pathname;\n  var newPath = oldPath;\n\n  // If an index filename was provided, remove it if it appears at the end\n  // of the URL.\n  if (this.opts.indexFilename) {\n    var parts = newPath.split('/');\n    if (this.opts.indexFilename == parts[parts.length - 1]) {\n      parts[parts.length - 1] = '';\n      newPath = parts.join('/');\n    }\n  }\n\n  // Ensure the URL ends with or doesn't end with slash based on the\n  // `trailingSlash` option. Note that filename URLs should never contain\n  // a trailing slash.\n  if (this.opts.trailingSlash == 'remove') {\n      newPath = newPath.replace(/\\/+$/, '');\n  }\n  else if (this.opts.trailingSlash == 'add') {\n    var isFilename = /\\.\\w+$/.test(newPath);\n    if (!isFilename && newPath.substr(-1) != '/') {\n      newPath = newPath + '/';\n    }\n  }\n\n  // If a query dimensions index was provided, set the query string portion\n  // of the URL on that dimension. If no query string exists on the URL use\n  // the NULL_DIMENSION.\n  if (this.opts.stripQuery && this.opts.queryDimensionIndex) {\n    model.set('dimension' + this.opts.queryDimensionIndex,\n        url.query || constants.NULL_DIMENSION);\n  }\n\n  model.set('page', newPath + (!this.opts.stripQuery ? url.search : ''));\n};\n\n\n/**\n * Overrides the tracker's `buildHitTask` to check for proper URL formatting\n * on every hit (not just the initial pageview).\n */\nCleanUrlTracker.prototype.overrideTrackerBuildHitTask = function() {\n  this.originalTrackerBuildHitTask = this.tracker.get('buildHitTask');\n\n  this.tracker.set('buildHitTask', function(model) {\n    this.cleanUrlTask(model);\n    this.originalTrackerBuildHitTask(model);\n  }.bind(this));\n};\n\n\n/**\n * Restores all overridden tasks and methods.\n */\nCleanUrlTracker.prototype.remove = function() {\n  this.tracker.set('sendHitTask', this.originalTrackerSendHitTask);\n};\n\n\nprovide('cleanUrlTracker', CleanUrlTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar delegate = require('dom-utils/lib/delegate');\nvar provide = require('../provide');\nvar usage = require('../usage');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar getAttributeFields = require('../utilities').getAttributeFields;\n\n\n/**\n * Registers declarative event tracking.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction EventTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.EVENT_TRACKER);\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = assign({\n    events: ['click'],\n    fieldsObj: {},\n    attributePrefix: 'ga-',\n    hitFilter: null\n  }, opts);\n\n  this.tracker = tracker;\n\n  // Binds methods.\n  this.handleEvents = this.handleEvents.bind(this);\n\n  var selector = '[' + this.opts.attributePrefix + 'on]';\n\n  // Creates a mapping of events to their delegates\n  this.delegates = {};\n  this.opts.events.forEach(function(event) {\n    this.delegates[event] = delegate(document, event, selector,\n        this.handleEvents, {deep: true, useCapture: true});\n  }.bind(this));\n}\n\n\n/**\n * Handles all clicks on elements with event attributes.\n * @param {Event} event The DOM click event.\n * @param {Element} element The delegated DOM element target.\n */\nEventTracker.prototype.handleEvents = function(event, element) {\n\n  var prefix = this.opts.attributePrefix;\n\n  // Ensures the event type matches the one specified on the element.\n  if (event.type != element.getAttribute(prefix + 'on')) return;\n\n  var defaultFields = {transport: 'beacon'};\n  var attributeFields = getAttributeFields(element, prefix);\n  var userFields = assign({}, this.opts.fieldsObj, attributeFields);\n  var hitType = attributeFields.hitType || 'event';\n\n  this.tracker.send(hitType, createFieldsObj(\n      defaultFields, userFields, this.tracker, this.opts.hitFilter, element));\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nEventTracker.prototype.remove = function() {\n  Object.keys(this.delegates).forEach(function(key) {\n    this.delegates[key].destroy();\n  }.bind(this));\n};\n\n\nprovide('eventTracker', EventTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar debounce = require('debounce');\nvar constants = require('../constants');\nvar provide = require('../provide');\nvar usage = require('../usage');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar isObject = require('../utilities').isObject;\nvar toArray = require('../utilities').toArray;\n\n\n/**\n * Declares the MediaQueryListener instance cache.\n */\nvar mediaMap = {};\n\n\n/**\n * Registers media query tracking.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction MediaQueryTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.MEDIA_QUERY_TRACKER);\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.matchMedia) return;\n\n  this.opts = assign({\n    definitions: null,\n    changeTemplate: this.changeTemplate,\n    changeTimeout: 1000,\n    fieldsObj: {},\n    hitFilter: null\n  }, opts);\n\n  // Exits early if media query data doesn't exist.\n  if (!isObject(this.opts.definitions)) return;\n\n  this.opts.definitions = toArray(this.opts.definitions);\n  this.tracker = tracker;\n  this.changeListeners = [];\n\n  this.processMediaQueries();\n}\n\n\n/**\n * Loops through each media query definition, sets the custom dimenion data,\n * and adds the change listeners.\n */\nMediaQueryTracker.prototype.processMediaQueries = function() {\n  this.opts.definitions.forEach(function(definition) {\n    // Only processes definitions with a name and index.\n    if (definition.name && definition.dimensionIndex) {\n      var mediaName = this.getMatchName(definition);\n      this.tracker.set('dimension' + definition.dimensionIndex, mediaName);\n\n      this.addChangeListeners(definition);\n    }\n  }.bind(this));\n};\n\n\n/**\n * Takes a definition object and return the name of the matching media item.\n * If no match is found, the NULL_DIMENSION value is returned.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension.\n * @return {string} The name of the matched media or NULL_DIMENSION.\n */\nMediaQueryTracker.prototype.getMatchName = function(definition) {\n  var match;\n\n  definition.items.forEach(function(item) {\n    if (getMediaListener(item.media).matches) {\n      match = item;\n    }\n  });\n  return match ? match.name : constants.NULL_DIMENSION;\n};\n\n\n/**\n * Adds change listeners to each media query in the definition list.\n * Debounces the changes to prevent unnecessary hits from being sent.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.addChangeListeners = function(definition) {\n  definition.items.forEach(function(item) {\n    var mql = getMediaListener(item.media);\n    var fn = debounce(function() {\n      this.handleChanges(definition);\n    }.bind(this), this.opts.changeTimeout);\n\n    mql.addListener(fn);\n    this.changeListeners.push({mql: mql, fn: fn});\n  }.bind(this));\n};\n\n\n/**\n * Handles changes to the matched media. When the new value differs from\n * the old value, a change event is sent.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.handleChanges = function(definition) {\n  var newValue = this.getMatchName(definition);\n  var oldValue = this.tracker.get('dimension' + definition.dimensionIndex);\n\n  if (newValue !== oldValue) {\n    this.tracker.set('dimension' + definition.dimensionIndex, newValue);\n\n    var defaultFields = {\n      eventCategory: definition.name,\n      eventAction: 'change',\n      eventLabel: this.opts.changeTemplate(oldValue, newValue)\n    };\n    this.tracker.send('event', createFieldsObj(\n        defaultFields, this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n  }\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nMediaQueryTracker.prototype.remove = function() {\n  for (var i = 0, listener; listener = this.changeListeners[i]; i++) {\n    listener.mql.removeListener(listener.fn);\n  }\n};\n\n\n/**\n * Sets the default formatting of the change event label.\n * This can be overridden by setting the `changeTemplate` option.\n * @param {string} oldValue The value of the media query prior to the change.\n * @param {string} newValue The value of the media query after the change.\n * @return {string} The formatted event label.\n */\nMediaQueryTracker.prototype.changeTemplate = function(oldValue, newValue) {\n  return oldValue + ' => ' + newValue;\n};\n\n\n/**\n * Accepts a media query and returns a MediaQueryListener object.\n * Caches the values to avoid multiple unnecessary instances.\n * @param {string} media A media query value.\n * @return {MediaQueryListener} The matched media.\n */\nfunction getMediaListener(media) {\n  // Returns early if the media is cached.\n  if (mediaMap[media]) return mediaMap[media];\n\n  mediaMap[media] = window.matchMedia(media);\n  return mediaMap[media];\n}\n\n\nprovide('mediaQueryTracker', MediaQueryTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar delegate = require('dom-utils/lib/delegate');\nvar parseUrl = require('dom-utils/lib/parse-url');\nvar provide = require('../provide');\nvar usage = require('../usage');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar getAttributeFields = require('../utilities').getAttributeFields;\n\n\n/**\n * Registers outbound link tracking on a tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction OutboundLinkTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.OUTBOUND_LINK_TRACKER);\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = assign({\n    events: ['click'],\n    linkSelector: 'a',\n    shouldTrackOutboundLink: this.shouldTrackOutboundLink,\n    fieldsObj: {},\n    attributePrefix: 'ga-',\n    hitFilter: null\n  }, opts);\n\n  this.tracker = tracker;\n\n  // Binds methods.\n  this.handleLinkInteractions = this.handleLinkInteractions.bind(this);\n\n  // Creates a mapping of events to their delegates\n  this.delegates = {};\n  this.opts.events.forEach(function(event) {\n    this.delegates[event] = delegate(document, event, this.opts.linkSelector,\n        this.handleLinkInteractions, {deep: true, useCapture: true});\n  }.bind(this));\n}\n\n\n/**\n * Handles all interactions on link elements. A link is considered an outbound\n * link if its hostname property does not match location.hostname. When the\n * beacon transport method is not available, the links target is set to\n * \"_blank\" to ensure the hit can be sent.\n * @param {Event} event The DOM click event.\n * @param {Element} link The delegated event target.\n */\nOutboundLinkTracker.prototype.handleLinkInteractions = function(event, link) {\n\n  if (this.opts.shouldTrackOutboundLink(link, parseUrl)) {\n    // Opens outbound links in a new tab if the browser doesn't support\n    // the beacon transport method.\n    if (!navigator.sendBeacon) {\n      link.target = '_blank';\n    }\n\n    var defaultFields = {\n      transport: 'beacon',\n      eventCategory: 'Outbound Link',\n      eventAction: event.type,\n      eventLabel: link.href\n    };\n\n    var userFields = assign({}, this.opts.fieldsObj,\n        getAttributeFields(link, this.opts.attributePrefix));\n\n    this.tracker.send('event', createFieldsObj(\n        defaultFields, userFields, this.tracker, this.opts.hitFilter, link));\n  }\n};\n\n\n/**\n * Determines whether or not the tracker should send a hit when a link is\n * clicked. By default links with a hostname property not equal to the current\n * hostname are tracked.\n * @param {Element} link The link that was clicked on.\n * @param {Function} parseUrl A cross-browser utility method for url parsing.\n * @return {boolean} Whether or not the link should be tracked.\n */\nOutboundLinkTracker.prototype.shouldTrackOutboundLink =\n    function(link, parseUrl) {\n\n  var url = parseUrl(link.href);\n  return url.hostname != location.hostname &&\n      url.protocol.slice(0, 4) == 'http';\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nOutboundLinkTracker.prototype.remove = function() {\n  Object.keys(this.delegates).forEach(function(key) {\n    this.delegates[key].destroy();\n  }.bind(this));\n};\n\n\nprovide('outboundLinkTracker', OutboundLinkTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar provide = require('../provide');\nvar usage = require('../usage');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar isObject = require('../utilities').isObject;\n\n\nvar DEFAULT_SESSION_TIMEOUT = 30; // 30 minutes.\n\n\n/**\n * Registers outbound link tracking on tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction PageVisibilityTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.PAGE_VISIBILITY_TRACKER);\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = assign({\n    sessionTimeout: DEFAULT_SESSION_TIMEOUT,\n    changeTemplate: this.changeTemplate,\n    hiddenMetricIndex: null,\n    visibleMetricIndex: null,\n    fieldsObj: {},\n    hitFilter: null\n  }, opts);\n\n  this.tracker = tracker;\n  this.visibilityState = document.visibilityState;\n\n  // Consider the plugin creation to be the start of the visibility change\n  // time calculations.\n  this.lastVisibilityChangeTime = +new Date;\n\n  // Binds methods to `this`.\n  this.handleVisibilityStateChange =\n      this.handleVisibilityStateChange.bind(this);\n\n  this.overrideTrackerSendMethod();\n  this.overrideTrackerSendHitTask();\n\n  document.addEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n}\n\n\n/**\n * Handles changes to `document.visibilityState`. This method sends events when\n * the visibility state changes during active sessions (active meaning the\n * session has not timed out). If the session has timed out, a return to a\n * visibility state of visible will trigger a new pageview (instead of a\n * visibility change event). Lastly, this method keeps track of the elapsed\n * time a document's visibility state was visible and sends that as the event\n * value for hidden events, allowing you to more accurately derive how long\n * a user spent active during a session.\n */\nPageVisibilityTracker.prototype.handleVisibilityStateChange = function() {\n\n  var defaultFields;\n  this.prevVisibilityState = this.visibilityState;\n  this.visibilityState = document.visibilityState;\n\n  if (this.sessionHasTimedOut()) {\n    // Prevents sending 'hidden' state hits when the session has timed out.\n    if (this.visibilityState == 'hidden') return;\n\n    if (this.visibilityState == 'visible') {\n      // If the session has timed out, a transition to \"visible\" should be\n      // considered a new pageview and a new session.\n      defaultFields = {transport: 'beacon'};\n      this.tracker.send('pageview', createFieldsObj(defaultFields,\n          this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n    }\n  }\n  else {\n    // Rounds the time up to the nearest second. If the rounded value is zero\n    // use 1 instead since unset metrics default to 0.\n    var timeDeltaInSeconds = Math.round(\n        (new Date - this.lastVisibilityChangeTime) / 1000) || 1;\n\n    defaultFields = {\n      transport: 'beacon',\n      eventCategory: 'Page Visibility',\n      eventAction: 'change',\n      eventLabel: this.opts.changeTemplate(\n          this.prevVisibilityState, this.visibilityState),\n      eventValue: timeDeltaInSeconds\n    };\n\n    // Changes to hidden are non interaction hits by default\n    if (this.visibilityState == 'hidden') defaultFields.nonInteraction = true;\n\n    // If a custom metric was specified for the current visibility state,\n    // give it the same as the event value.\n    var metric = this.opts[this.prevVisibilityState + 'MetricIndex'];\n    if (metric) defaultFields['metric' + metric] = timeDeltaInSeconds;\n\n    this.tracker.send('event', createFieldsObj(defaultFields,\n        this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n  }\n\n  // Updates the time the last visibility state change event occurred, so\n  // change events can report the delta.\n  this.lastVisibilityChangeTime = +new Date;\n};\n\n\n/**\n * Returns true if the session has not timed out. A session timeout occurs when\n * more than `this.opts.sessionTimeout` minutes has elapsed since the\n * tracker sent the previous hit.\n * @return {boolean} True if the session has timed out.\n */\nPageVisibilityTracker.prototype.sessionHasTimedOut = function() {\n  var minutesSinceLastHit = (new Date - this.lastHitTime) / (60 * 1000);\n  return this.opts.sessionTimeout < minutesSinceLastHit;\n};\n\n\n/**\n * Overrides the `tracker.send` method to send a pageview hit before the\n * current hit being sent if the session has timed out and the current hit is\n * not a pageview itself.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendMethod = function() {\n  this.originalTrackerSendMethod = this.tracker.send;\n\n  this.tracker.send = function() {\n    var args = Array.prototype.slice.call(arguments);\n    var firstArg = args[0];\n    var hitType = isObject(firstArg) ? firstArg.hitType : firstArg;\n    var isPageview = hitType == 'pageview';\n\n    if (!isPageview && this.sessionHasTimedOut()) {\n      var defaultFields = {transport: 'beacon'};\n      this.originalTrackerSendMethod.call(this.tracker, 'pageview',\n          createFieldsObj(defaultFields, this.opts.fieldsObj,\n              this.tracker, this.opts.hitFilter));\n    }\n\n    this.originalTrackerSendMethod.apply(this.tracker, args);\n  }.bind(this);\n};\n\n\n/**\n * Overrides the tracker's `sendHitTask` to record the time of the previous\n * hit. This is used to determine whether or not a session has timed out.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendHitTask = function() {\n  this.originalTrackerSendHitTask = this.tracker.get('sendHitTask');\n  this.lastHitTime = +new Date;\n\n  this.tracker.set('sendHitTask', function(model) {\n    this.originalTrackerSendHitTask(model);\n    this.lastHitTime = +new Date;\n  }.bind(this));\n};\n\n\n/**\n * Sets the default formatting of the change event label.\n * This can be overridden by setting the `changeTemplate` option.\n * @param {string} oldValue The value of the media query prior to the change.\n * @param {string} newValue The value of the media query after the change.\n * @return {string} The formatted event label.\n */\nPageVisibilityTracker.prototype.changeTemplate = function(oldValue, newValue) {\n  return oldValue + ' => ' + newValue;\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\n PageVisibilityTracker.prototype.remove = function() {\n  this.tracker.set('sendHitTask', this.originalTrackerSendHitTask);\n  this.tracker.send = this.originalTrackerSendMethod;\n\n  document.removeEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n};\n\n\nprovide('pageVisibilityTracker', PageVisibilityTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/* global FB, twttr */\n\n\nvar assign = require('object-assign');\nvar provide = require('../provide');\nvar usage = require('../usage');\nvar createFieldsObj = require('../utilities').createFieldsObj;\n\n\n/**\n * Registers social tracking on tracker object.\n * Supports both declarative social tracking via HTML attributes as well as\n * tracking for social events when using official Twitter or Facebook widgets.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction SocialWidgetTracker(tracker, opts) {\n\n  usage.track(tracker, usage.plugins.SOCIAL_WIDGET_TRACKER);\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = assign({\n    fieldsObj: {},\n    hitFilter: null\n  }, opts);\n\n  this.tracker = tracker;\n\n  // Binds methods to `this`.\n  this.addWidgetListeners = this.addWidgetListeners.bind(this);\n  this.addTwitterEventHandlers = this.addTwitterEventHandlers.bind(this);\n  this.handleTweetEvents = this.handleTweetEvents.bind(this);\n  this.handleFollowEvents = this.handleFollowEvents.bind(this);\n  this.handleLikeEvents = this.handleLikeEvents.bind(this);\n  this.handleUnlikeEvents = this.handleUnlikeEvents.bind(this);\n\n  if (document.readyState != 'complete') {\n    // Adds the widget listeners after the window's `load` event fires.\n    // If loading widgets using the officially recommended snippets, they\n    // will be available at `window.load`. If not users can call the\n    // `addWidgetListeners` method manually.\n    window.addEventListener('load', this.addWidgetListeners);\n  }\n  else {\n    this.addWidgetListeners();\n  }\n}\n\n\n/**\n * Invokes the methods to add Facebook and Twitter widget event listeners.\n * Ensures the respective global namespaces are present before adding.\n */\nSocialWidgetTracker.prototype.addWidgetListeners = function() {\n  if (window.FB) this.addFacebookEventHandlers();\n  if (window.twttr) this.addTwitterEventHandlers();\n};\n\n\n/**\n * Adds event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons. Note: this does not capture tweet or\n * follow events emitted by other Twitter widgets (tweet, timeline, etc.).\n */\nSocialWidgetTracker.prototype.addTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.bind('tweet', this.handleTweetEvents);\n      twttr.events.bind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons.\n */\nSocialWidgetTracker.prototype.removeTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.unbind('tweet', this.handleTweetEvents);\n      twttr.events.unbind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Adds event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialWidgetTracker.prototype.addFacebookEventHandlers = function() {\n  try {\n    FB.Event.subscribe('edge.create', this.handleLikeEvents);\n    FB.Event.subscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialWidgetTracker.prototype.removeFacebookEventHandlers = function() {\n  try {\n    FB.Event.unsubscribe('edge.create', this.handleLikeEvents);\n    FB.Event.unsubscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Handles `tweet` events emitted by the Twitter JS SDK.\n * @param {Object} event The Twitter event object passed to the handler.\n */\nSocialWidgetTracker.prototype.handleTweetEvents = function(event) {\n  // Ignores tweets from widgets that aren't the tweet button.\n  if (event.region != 'tweet') return;\n\n  var url = event.data.url || event.target.getAttribute('data-url') ||\n      location.href;\n\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Twitter',\n    socialAction: 'tweet',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `follow` events emitted by the Twitter JS SDK.\n * @param {Object} event The Twitter event object passed to the handler.\n */\nSocialWidgetTracker.prototype.handleFollowEvents = function(event) {\n  // Ignore follows from widgets that aren't the follow button.\n  if (event.region != 'follow') return;\n\n  var screenName = event.data.screen_name ||\n      event.target.getAttribute('data-screen-name');\n\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Twitter',\n    socialAction: 'follow',\n    socialTarget: screenName\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `like` events emitted by the Facebook JS SDK.\n * @param {string} url The URL corresponding to the like event.\n */\nSocialWidgetTracker.prototype.handleLikeEvents = function(url) {\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Facebook',\n    socialAction: 'like',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `unlike` events emitted by the Facebook JS SDK.\n * @param {string} url The URL corresponding to the unlike event.\n */\nSocialWidgetTracker.prototype.handleUnlikeEvents = function(url) {\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Facebook',\n    socialAction: 'unlike',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nSocialWidgetTracker.prototype.remove = function() {\n  window.removeEventListener('load', this.addWidgetListeners);\n  this.removeFacebookEventHandlers();\n  this.removeTwitterEventHandlers();\n};\n\n\nprovide('socialWidgetTracker', SocialWidgetTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar constants = require('./constants');\nvar utilities = require('./utilities');\n\n\n// Adds the dev ID to the list of dev IDs if any plugin is used.\n(window.gaDevIds = window.gaDevIds || []).push(constants.DEV_ID);\n\n\n/**\n * Provides a plugin for use with analytics.js, accounting for the possibility\n * that the global command queue has been renamed or not yet defined.\n * @param {string} pluginName The plugin name identifier.\n * @param {Function} pluginConstructor The plugin constructor function.\n */\nmodule.exports = function providePlugin(pluginName, pluginConstructor) {\n  var gaAlias = window['GoogleAnalyticsObject'] || 'ga';\n  window[gaAlias] = window[gaAlias] || function() {\n    (window[gaAlias]['q'] = window[gaAlias]['q'] || []).push(arguments);\n  };\n\n  // Formally provides the plugin for use with analytics.js.\n  window[gaAlias]('provide', pluginName, pluginConstructor);\n\n  // Registers the plugin on the global gaplugins object.\n  window.gaplugins = window.gaplugins || {};\n  window.gaplugins[utilities.capitalize(pluginName)] = pluginConstructor;\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar constants = require('./constants');\n\n\nvar plugins = {\n  CLEAN_URL_TRACKER: 1,\n  EVENT_TRACKER: 2,\n  IMPRESSION_TRACKER: 3,\n  MEDIA_QUERY_TRACKER: 4,\n  OUTBOUND_FORM_TRACKER: 5,\n  OUTBOUND_LINK_TRACKER: 6,\n  PAGE_VISIBILITY_TRACKER: 7,\n  SOCIAL_WIDGET_TRACKER: 8,\n  URL_CHANGE_TRACKER: 9\n};\nvar PLUGIN_COUNT = 9;\n\n\n/**\n * Converts a hexadecimal string to a binary string.\n * @param {string} hex A hexadecimal numeric string.\n * @return {string} a binary numeric string.\n */\nfunction convertHexToBin(hex) {\n  return parseInt(hex || '0', 16).toString(2);\n}\n\n\n/**\n * Converts a binary string to a hexadecimal string.\n * @param {string} bin A binary numeric string.\n * @return {string} a hexadecimal numeric string.\n */\nfunction convertBinToHex(bin) {\n  return parseInt(bin || '0', 2).toString(16);\n}\n\n\n/**\n * Adds leading zeros to a string if it's less than a minimum length.\n * @param {string} str A string to pad.\n * @param {number} len The minimum length of the string\n * @return {string} The padded string.\n */\nfunction padZeros(str, len) {\n  if (str.length < len) {\n    var toAdd = len - str.length;\n    while (toAdd) {\n      str = '0' + str;\n      toAdd--;\n    }\n  }\n  return str;\n}\n\n\n/**\n * Accepts a binary numeric string and flips the digit from 0 to 1 at the\n * specified index.\n * @param {string} str The binary numeric string.\n * @param {number} index The index to flip the bit.\n * @return {string} The new binary string with the bit flipped on\n */\nfunction flipBitOn(str, index) {\n  return str.substr(0, index) + 1 + str.substr(index + 1);\n}\n\n\n/**\n * Accepts a tracker and a plugin index and flips the bit at the specified\n * index on the tracker's usage parameter.\n * @param {Object} tracker An analytics.js tracker.\n * @param {number} pluginIndex The index of the plugin in the global list.\n */\nfunction trackPlugin(tracker, pluginIndex) {\n  var usageHex = tracker.get(constants.USAGE_PARAM);\n  var usageBin = padZeros(convertHexToBin(usageHex), PLUGIN_COUNT);\n\n  // Flip the bit of the plugin being tracked.\n  usageBin = flipBitOn(usageBin, PLUGIN_COUNT - pluginIndex);\n\n  // Stores the modified usage string back on the tracker.\n  tracker.set(constants.USAGE_PARAM, convertBinToHex(usageBin));\n}\n\n\n/**\n * Accepts a tracker and adds the current version to the version param.\n * @param {Object} tracker An analytics.js tracker.\n */\nfunction trackVersion(tracker) {\n  tracker.set(constants.VERSION_PARAM, constants.VERSION);\n}\n\n\nmodule.exports = {\n  track: function(tracker, plugin) {\n    trackVersion(tracker);\n    trackPlugin(tracker, plugin);\n  },\n  plugins: plugins\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\nvar getAttributes = require('dom-utils/lib/get-attributes');\n\n\nvar utilities = {\n\n\n  /**\n   * Accepts default and user override fields and an optional tracker, hit\n   * filter, and target element and returns a single object that can be used in\n   * `ga('send', ...)` commands.\n   * @param {Object} defaultFields The default fields to return.\n   * @param {Object} userFields Fields set by the user to override the defaults.\n   * @param {Object} opt_tracker The tracker object to apply the hit filter to.\n   * @param {Function} opt_hitFilter A filter function that gets\n   *     called with the tracker model right before the `buildHitTask`. It can\n   *     be used to modify the model for the current hit only.\n   * @param {Element} opt_target If the hit originated from an interaction\n   *     with a DOM element, hitFilter is invoked with that element as the\n   *     second argument.\n   * @return {Object} The final fields object.\n   */\n  createFieldsObj: function(\n      defaultFields, userFields, opt_tracker, opt_hitFilter, opt_target) {\n\n    if (typeof opt_hitFilter == 'function') {\n      var originalBuildHitTask = opt_tracker.get('buildHitTask');\n      return {\n        buildHitTask: function(model) {\n          model.set(defaultFields, null, true);\n          model.set(userFields, null, true);\n          opt_hitFilter(model, opt_target);\n          originalBuildHitTask(model);\n        }\n      };\n    }\n    else {\n      return assign({}, defaultFields, userFields);\n    }\n  },\n\n\n  /**\n   * Retrieves the attributes from an DOM element and returns a fields object\n   * for all attributes matching the passed prefix string.\n   * @param {Element} element The DOM element to get attributes from.\n   * @param {string} prefix An attribute prefix. Only the attributes matching\n   *     the prefix will be returned on the fields object.\n   * @return {Object} An object of analytics.js fields and values\n   */\n  getAttributeFields: function(element, prefix) {\n    var attributes = getAttributes(element);\n    var attributeFields = {};\n\n    Object.keys(attributes).forEach(function(attribute) {\n\n      // The `on` prefix is used for event handling but isn't a field.\n      if (attribute.indexOf(prefix) === 0 && attribute != prefix + 'on') {\n\n        var value = attributes[attribute];\n\n        // Detects Boolean value strings.\n        if (value == 'true') value = true;\n        if (value == 'false') value = false;\n\n        var field = utilities.camelCase(attribute.slice(prefix.length));\n        attributeFields[field] = value;\n      }\n    });\n\n    return attributeFields;\n  },\n\n\n  domReady: function(callback) {\n    if (document.readyState == 'loading') {\n      document.addEventListener('DOMContentLoaded', function fn() {\n        document.removeEventListener('DOMContentLoaded', fn);\n        callback();\n      });\n    } else {\n      callback();\n    }\n  },\n\n\n  /**\n   * Accepts a function and returns a wrapped version of the function that is\n   * expected to be called elsewhere in the system. If it's not called\n   * elsewhere after the timeout period, it's called regardless. The wrapper\n   * function also prevents the callback from being called more than once.\n   * @param {Function} callback The function to call.\n   * @param {number} wait How many milliseconds to wait before invoking\n   *     the callback.\n   * @returns {Function} The wrapped version of the passed function.\n   */\n  withTimeout: function(callback, wait) {\n    var called = false;\n    setTimeout(callback, wait || 2000);\n    return function() {\n      if (!called) {\n        called = true;\n        callback();\n      }\n    };\n  },\n\n\n  /**\n   * Accepts a string containing hyphen or underscore word separators and\n   * converts it to camelCase.\n   * @param {string} str The string to camelCase.\n   * @return {string} The camelCased version of the string.\n   */\n  camelCase: function(str) {\n    return str.replace(/[\\-\\_]+(\\w?)/g, function(match, p1) {\n      return p1.toUpperCase();\n    });\n  },\n\n\n  /**\n   * Capitalizes the first letter of a string.\n   * @param {string} str The input string.\n   * @return {string} The capitalized string\n   */\n  capitalize: function(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  },\n\n\n  /**\n   * Indicates whether the passed variable is a JavaScript object.\n   * @param {*} value The input variable to test.\n   * @return {boolean} Whether or not the test is an object.\n   */\n  isObject: function(value) {\n    return typeof value == 'object' && value !== null;\n  },\n\n\n  /**\n   * Indicates whether the passed variable is a JavaScript array.\n   * @param {*} value The input variable to test.\n   * @return {boolean} Whether or not the value is an array.\n   */\n  isArray: Array.isArray || function(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n  },\n\n\n  /**\n   * Accepts a value that may or may not be an array. If it is not an array,\n   * it is returned as the first item in a single-item array.\n   * @param {*} value The value to convert to an array if it is not.\n   * @return {Array} The array-ified value.\n   */\n  toArray: function(value) {\n    return utilities.isArray(value) ? value : [value];\n  }\n};\n\nmodule.exports = utilities;\n","'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","module.exports = Date.now || now\n\nfunction now() {\n    return new Date().getTime()\n}\n","\n/**\n * Module dependencies.\n */\n\nvar now = require('date-now');\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = now() - timestamp;\n\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n};\n","var matches = require('./matches');\nvar parents = require('./parents');\n\n/**\n * Gets the closest parent element that matches the passed selector.\n * @param {Element} element The element whose parents to check.\n * @param {string} selector The CSS selector to match against.\n * @param {boolean} shouldCheckSelf True if the selector should test against\n *     the passed element itself.\n * @return {?Element} The matching element or undefined.\n */\nmodule.exports = function closest(element, selector, shouldCheckSelf) {\n  if (!(element && element.nodeType == 1 && selector)) return;\n\n  var parentElements =\n      (shouldCheckSelf ? [element] : []).concat(parents(element));\n\n  for (var i = 0, parent; parent = parentElements[i]; i++) {\n    if (matches(parent, selector)) return parent;\n  }\n};\n","var closest = require('./closest');\nvar matches = require('./matches');\n\n/**\n * Delegates the handling of events for an element matching a selector to an\n * ancestor of the matching element.\n * @param {Element} ancestor The ancestor element to add the listener to.\n * @param {string} eventType The event type to listen to.\n * @param {string} selector A CSS selector to match against child elements.\n * @param {Function} callback A function to run any time the event happens.\n * @param {Object} opts A configuration options object. The available options:\n *     - useCapture<boolean>: If true, bind to the event capture phase.\n *     - deep<boolean>: If true, delegate into shadow trees.\n * @return {Object} The delegate object. It contains a destroy method.\n */\n module.exports = function delegate(\n    ancestor, eventType, selector, callback, opts) {\n\n  opts = opts || {};\n\n  // Defines the event listener.\n  var listener = function(event) {\n\n    // If opts.deep is true and the event originated from inside a Shadow DOM,\n    // check the deep nodes.\n    if (opts.deep && typeof event.deepPath == 'function') {\n      var path = event.deepPath();\n      for (var i = 0, node; node = path[i]; i++) {\n        if (node.nodeType == 1 && matches(node, selector)) {\n          delegateTarget = node;\n        }\n      }\n    }\n    // Otherwise check the parents.\n    else {\n      var delegateTarget = closest(event.target, selector, true);\n    }\n\n    if (delegateTarget) {\n      callback.call(delegateTarget, event, delegateTarget);\n    }\n  };\n\n  ancestor.addEventListener(eventType, listener, opts.useCapture);\n\n  return {\n    destroy: function() {\n      ancestor.removeEventListener(eventType, listener, opts.useCapture);\n    }\n  };\n};\n","/**\n * Gets all attributes of an element as a plain JavaScriot object.\n * @param {Element} element The element whose attributes to get.\n * @return {Object} An object whose keys are the attribute keys and whose\n *     values are the attribute values. If no attributes exist, an empty\n *     object is returned.\n */\nmodule.exports = function getAttributes(element) {\n  var attrs = {};\n\n  // Validate input.\n  if (!(element && element.nodeType == 1)) return attrs;\n\n  // Return an empty object if there are no attributes.\n  var map = element.attributes;\n  if (map.length === 0) return {};\n\n  for (var i = 0, attr; attr = map[i]; i++) {\n    attrs[attr.name] = attr.value;\n  }\n  return attrs;\n};\n","var proto = Element.prototype;\nvar nativeMatches = proto.matches ||\n    proto.matchesSelector ||\n    proto.webkitMatchesSelector ||\n    proto.mozMatchesSelector ||\n    proto.msMatchesSelector ||\n    proto.oMatchesSelector;\n\n\n/**\n * Tests whether a DOM element matches a selector. This polyfills the native\n * Element.prototype.matches method across browsers.\n * @param {Element} element The DOM element to test.\n * @param {string} selector The CSS selector to test element against.\n * @return {boolean} True if the selector matches.\n */\n function matchesSelector(element, selector) {\n  if (typeof selector != 'string') return false;\n  if (nativeMatches) return nativeMatches.call(element, selector);\n  var nodes = element.parentNode.querySelectorAll(selector);\n  for (var i = 0, node; node = nodes[i]; i++) {\n    if (node == element) return true;\n  }\n  return false;\n}\n\n\n/**\n * Tests if a DOM elements matches any of the test DOM elements or selectors.\n * @param {Element} element The DOM element to test.\n * @param {Element|string|Array<Element|String>} test A DOM element, a CSS\n *     selector, or an array of DOM elements or CSS selectors to match against.\n * @return {boolean} True of any part of the test matches.\n */\nmodule.exports = function matches(element, test) {\n  // Validate input.\n  if (element && element.nodeType == 1 && test) {\n    // if test is a string or DOM element test it.\n    if (typeof test == 'string' || test.nodeType == 1) {\n      return element == test || matchesSelector(element, test);\n    }\n    // if it has a length property iterate over the items\n    // and return true if any match.\n    else if ('length' in test) {\n      for (var i = 0, item; item = test[i]; i++) {\n        if (element == item || matchesSelector(element, item)) return true;\n      }\n    }\n  }\n  // Still here? Return false\n  return false;\n};\n","/**\n * Returns an array of a DOM element's parent elements.\n * @param {Element} element The DOM element whose parents to get.\n * @return {Array} An array of all parent elemets, or an empty array if no\n *     parent elements are found.\n */\nmodule.exports = function parents(element) {\n  var list = [];\n  while (element && element.parentNode && element.parentNode.nodeType == 1) {\n    list.push(element = element.parentNode);\n  }\n  return list;\n};\n","var HTTP_PORT = '80';\nvar HTTPS_PORT = '443';\nvar DEFAULT_PORT = RegExp(':(' + HTTP_PORT + '|' + HTTPS_PORT + ')$');\n\n\nvar a = document.createElement('a');\nvar cache = {};\n\n\n/**\n * Parses the given url and returns an object mimicing a `Location` object.\n * @param {string} url The url to parse.\n * @return {Object} An object with the same properties as a `Location`\n *    plus the convience properties `path` and `query`.\n */\nmodule.exports = function parseUrl(url) {\n\n  // All falsy values (as well as \".\") should map to the current URL.\n  url = (!url || url == '.') ? location.href : url;\n\n  if (cache[url]) return cache[url];\n\n  a.href = url;\n\n  // When parsing file relative paths (e.g. `../index.html`), IE will correctly\n  // resolve the `href` property but will keep the `..` in the `path` property.\n  // To workaround this, we reparse with the full URL from the `href` property.\n  if (url.charAt(0) == '.') return parseUrl(a.href);\n\n  // Sometimes IE will return no port or just a colon, especially for things\n  // like relative port URLs (e.g. \"//google.com\").\n  var protocol = !a.protocol || ':' == a.protocol ?\n      location.protocol : a.protocol;\n\n  // Don't include default ports.\n  var port = (a.port == HTTP_PORT || a.port == HTTPS_PORT) ? '' : a.port;\n\n  // PhantomJS sets the port to \"0\" when using the file: protocol.\n  port = port == '0' ? '' : port;\n\n  // IE will return an empty string for host and hostname with a relative URL.\n  var host = a.host == '' ? location.host : a.host;\n  var hostname = a.hostname == '' ? location.hostname : a.hostname;\n\n  // Sometimes IE incorrectly includes a port for default ports\n  // (e.g. `:80` or `:443`) even when no port is specified in the URL.\n  // http://bit.ly/1rQNoMg\n  host = host.replace(DEFAULT_PORT, '');\n\n  // Not all browser support `origin` so we have to build it.\n  var origin = a.origin ? a.origin : protocol + '//' + host;\n\n  // Sometimes IE doesn't include the leading slash for pathname.\n  // http://bit.ly/1rQNoMg\n  var pathname = a.pathname.charAt(0) == '/' ? a.pathname : '/' + a.pathname;\n\n  return cache[url] = {\n    hash: a.hash,\n    host: host,\n    hostname: hostname,\n    href: a.href,\n    origin: origin,\n\n    pathname: pathname,\n    port: port,\n    protocol: protocol,\n    search: a.search,\n\n    // Expose additional helpful properties not part of the Location object.\n    fragment: a.hash.slice(1), // The hash without the starting \"#\".\n    path: pathname + a.search, // The pathname and the search query (w/o hash).\n    query: a.search.slice(1) // The search without the starting \"?\".\n  };\n};\n"],"sourceRoot":"/source/"}