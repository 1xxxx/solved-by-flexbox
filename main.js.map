{"version":3,"sources":["node_modules/browser-pack/_prelude.js","main.js","assets/javascript/main.js","assets/javascript/analytics.js","assets/javascript/supports.js","node_modules/autotrack/lib/constants.js","node_modules/autotrack/lib/plugins/event-tracker.js","node_modules/autotrack/lib/plugins/media-query-tracker.js","node_modules/autotrack/lib/plugins/outbound-link-tracker.js","node_modules/autotrack/lib/plugins/page-visibility-tracker.js","node_modules/autotrack/lib/plugins/social-widget-tracker.js","node_modules/autotrack/lib/provide.js","node_modules/autotrack/lib/utilities.js","node_modules/autotrack/node_modules/object-assign/index.js","node_modules/date-now/index.js","node_modules/debounce/index.js","node_modules/dom-utils/lib/closest.js","node_modules/dom-utils/lib/delegate.js","node_modules/dom-utils/lib/get-attributes.js","node_modules/dom-utils/lib/matches.js","node_modules/dom-utils/lib/parents.js","node_modules/dom-utils/lib/parse-url.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequire","obj","__esModule","supports","flexbox","div","document","createElement","className","innerHTML","body","insertBefore","firstChild","./analytics","./supports","2","autotrack/lib/plugins/event-tracker","autotrack/lib/plugins/media-query-tracker","autotrack/lib/plugins/outbound-link-tracker","autotrack/lib/plugins/page-visibility-tracker","autotrack/lib/plugins/social-widget-tracker","3","style","4","DEV_ID","NULL_DIMENSION","5","EventTracker","tracker","opts","window","addEventListener","this","defaults","events","attributePrefix","fieldsObj","hitFilter","handleEvents","bind","selector","delegates","forEach","event","delegate","deep","useCapture","getAttributes","provide","camelCase","createFieldsObj","prototype","element","prefix","type","getAttribute","defaultFields","attributes","Object","keys","attribute","indexOf","value","field","slice","send","hitType","remove","key","destroy","../provide","../utilities","dom-utils/lib/delegate","dom-utils/lib/get-attributes","6","MediaQueryTracker","matchMedia","definitions","changeTemplate","changeTimeout","isObject","toArray","changeListeners","processMediaQueries","getMediaListener","media","mediaMap","debounce","constants","definition","name","dimensionIndex","mediaName","getMatchName","set","addChangeListeners","match","items","item","matches","mql","fn","handleChanges","addListener","push","newValue","oldValue","get","eventCategory","eventAction","eventLabel","listener","removeListener","../constants","7","OutboundLinkTracker","linkSelector","shouldTrackOutboundLink","handleLinkClicks","parseUrl","link","navigator","sendBeacon","target","transport","href","url","hostname","location","protocol","dom-utils/lib/parse-url","8","PageVisibilityTracker","sessionTimeout","DEFAULT_SESSION_TIMEOUT","handleVisibilityStateChange","overrideTrackerSendMethod","overrideTrackerSendHitTask","visibilityState","sessionHasTimedOut","minutesSinceLastHit","Date","lastHitTime","originalTrackerSendMethod","args","Array","arguments","firstArg","isPageview","apply","originalTrackerSendHitTask","model","removeEventListener","9","SocialWidgetTracker","addWidgetListeners","addTwitterEventHandlers","handleTweetEvents","handleFollowEvents","handleLikeEvents","handleUnlikeEvents","readyState","FB","addFacebookEventHandlers","twttr","ready","err","removeTwitterEventHandlers","unbind","Event","subscribe","removeFacebookEventHandlers","unsubscribe","region","data","socialNetwork","socialAction","socialTarget","screenName","screen_name","10","utilities","gaDevIds","pluginName","pluginConstructor","gaAlias","gaplugins","capitalize","./constants","./utilities","11","assign","userFields","opt_tracker","opt_hitFilter","originalBuildHitTask","buildHitTask","withTimeout","callback","wait","called","setTimeout","overrides","result","hasOwnProperty","str","replace","p1","toUpperCase","charAt","isArray","toString","object-assign","12","toObject","val","undefined","TypeError","propIsEnumerable","propertyIsEnumerable","source","from","symbols","to","getOwnPropertySymbols","13","now","getTime","14","func","immediate","later","last","timestamp","timeout","context","callNow","date-now","15","parents","shouldCheckSelf","nodeType","parent","parentElements","concat","./matches","./parents","16","closest","ancestor","eventType","deepPath","node","path","delegateTarget","./closest","17","attrs","map","attr","18","matchesSelector","nativeMatches","nodes","parentNode","querySelectorAll","proto","Element","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","test","19","list","20","HTTP_PORT","HTTPS_PORT","cache","port","host","origin","pathname","hash","search","fragment","query"],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj[\"default\"] : obj; };\n\nrequire(\"./analytics\");\n\nvar supports = _interopRequire(require(\"./supports\"));\n\n// Add an `is-legacy` class on browsers that don't supports flexbox.\nif (!supports.flexbox()) {\n  var div = document.createElement(\"div\");\n  div.className = \"Error\";\n  div.innerHTML = \"Your browser does not support Flexbox.\\n                   Parts of this site may not appear as expected.\";\n\n  document.body.insertBefore(div, document.body.firstChild);\n}\n\n},{\"./analytics\":2,\"./supports\":3}],2:[function(require,module,exports){\n\"use strict\";\n\nrequire(\"autotrack/lib/plugins/event-tracker\");\n\nrequire(\"autotrack/lib/plugins/media-query-tracker\");\n\nrequire(\"autotrack/lib/plugins/outbound-link-tracker\");\n\nrequire(\"autotrack/lib/plugins/page-visibility-tracker\");\n\nrequire(\"autotrack/lib/plugins/social-widget-tracker\");\n\n},{\"autotrack/lib/plugins/event-tracker\":5,\"autotrack/lib/plugins/media-query-tracker\":6,\"autotrack/lib/plugins/outbound-link-tracker\":7,\"autotrack/lib/plugins/page-visibility-tracker\":8,\"autotrack/lib/plugins/social-widget-tracker\":9}],3:[function(require,module,exports){\n\"use strict\";\n\nvar supports = {};\nvar style = document.body.style;\n\nmodule.exports = {\n  flexbox: function flexbox() {\n    return supports.flexbox || (supports.flexbox = \"flexBasis\" in style || \"msFlexAlign\" in style || \"webkitBoxDirection\" in style);\n  }\n};\n\n},{}],4:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nmodule.exports = {\n  DEV_ID: 'i5iSjo',\n  NULL_DIMENSION: '(not set)'\n};\n\n},{}],5:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar delegate = require('dom-utils/lib/delegate');\nvar getAttributes = require('dom-utils/lib/get-attributes');\nvar provide = require('../provide');\nvar camelCase = require('../utilities').camelCase;\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar defaults = require('../utilities').defaults;\n\n\n/**\n * Registers declarative event tracking.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction EventTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    events: ['click'],\n    attributePrefix: 'ga-',\n    fieldsObj: null,\n    hitFilter: null\n  });\n\n  this.tracker = tracker;\n\n  // Binds methods.\n  this.handleEvents = this.handleEvents.bind(this);\n\n  var selector = '[' + this.opts.attributePrefix + 'on]';\n\n  // Creates a mapping of events to their delegates\n  this.delegates = {};\n  this.opts.events.forEach(function(event) {\n    this.delegates[event] = delegate(document, event, selector,\n        this.handleEvents, {deep: true, useCapture: true});\n  }.bind(this));\n}\n\n\n/**\n * Handles all clicks on elements with event attributes.\n * @param {Event} event The DOM click event.\n * @param {Element} element The delegated DOM element target.\n */\nEventTracker.prototype.handleEvents = function(event, element) {\n\n  var prefix = this.opts.attributePrefix;\n\n  // Ensures the event type matches the one specified on the element.\n  if (event.type != element.getAttribute(prefix + 'on')) return;\n\n  var defaultFields = {};\n  var attributes = getAttributes(element);\n\n  Object.keys(attributes).forEach(function(attribute) {\n    if (attribute.indexOf(prefix) === 0 && attribute != prefix + 'on') {\n      var value = attributes[attribute];\n\n      // Detects Boolean value strings.\n      if (value == 'true') value = true;\n      if (value == 'false') value = false;\n\n      var field = camelCase(attribute.slice(prefix.length));\n      defaultFields[field] = value;\n    }\n  });\n\n  this.tracker.send(defaultFields.hitType || 'event', createFieldsObj(\n      defaultFields, this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nEventTracker.prototype.remove = function() {\n  Object.keys(this.delegates).forEach(function(key) {\n    this.delegates[key].destroy();\n  }.bind(this));\n};\n\n\nprovide('eventTracker', EventTracker);\n\n},{\"../provide\":10,\"../utilities\":11,\"dom-utils/lib/delegate\":16,\"dom-utils/lib/get-attributes\":17}],6:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar debounce = require('debounce');\nvar constants = require('../constants');\nvar provide = require('../provide');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar defaults = require('../utilities').defaults;\nvar isObject = require('../utilities').isObject;\nvar toArray = require('../utilities').toArray;\n\n\n/**\n * Declares the MediaQueryListener instance cache.\n */\nvar mediaMap = {};\n\n\n/**\n * Registers media query tracking.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction MediaQueryTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.matchMedia) return;\n\n  this.opts = defaults(opts, {\n    definitions: false,\n    changeTemplate: this.changeTemplate,\n    changeTimeout: 1000,\n    fieldsObj: null,\n    hitFilter: null\n  });\n\n  // Exits early if media query data doesn't exist.\n  if (!isObject(this.opts.definitions)) return;\n\n  this.opts.definitions = toArray(this.opts.definitions);\n  this.tracker = tracker;\n  this.changeListeners = [];\n\n  this.processMediaQueries();\n}\n\n\n/**\n * Loops through each media query definition, sets the custom dimenion data,\n * and adds the change listeners.\n */\nMediaQueryTracker.prototype.processMediaQueries = function() {\n  this.opts.definitions.forEach(function(definition) {\n    // Only processes definitions with a name and index.\n    if (definition.name && definition.dimensionIndex) {\n      var mediaName = this.getMatchName(definition);\n      this.tracker.set('dimension' + definition.dimensionIndex, mediaName);\n\n      this.addChangeListeners(definition);\n    }\n  }.bind(this));\n};\n\n\n/**\n * Takes a definition object and return the name of the matching media item.\n * If no match is found, the NULL_DIMENSION value is returned.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension.\n * @return {string} The name of the matched media or NULL_DIMENSION.\n */\nMediaQueryTracker.prototype.getMatchName = function(definition) {\n  var match;\n\n  definition.items.forEach(function(item) {\n    if (getMediaListener(item.media).matches) {\n      match = item;\n    }\n  });\n  return match ? match.name : constants.NULL_DIMENSION;\n};\n\n\n/**\n * Adds change listeners to each media query in the definition list.\n * Debounces the changes to prevent unnecessary hits from being sent.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.addChangeListeners = function(definition) {\n  definition.items.forEach(function(item) {\n    var mql = getMediaListener(item.media);\n    var fn = debounce(function() {\n      this.handleChanges(definition);\n    }.bind(this), this.opts.changeTimeout);\n\n    mql.addListener(fn);\n    this.changeListeners.push({mql: mql, fn: fn});\n  }.bind(this));\n};\n\n\n/**\n * Handles changes to the matched media. When the new value differs from\n * the old value, a change event is sent.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.handleChanges = function(definition) {\n  var newValue = this.getMatchName(definition);\n  var oldValue = this.tracker.get('dimension' + definition.dimensionIndex);\n\n  if (newValue !== oldValue) {\n    this.tracker.set('dimension' + definition.dimensionIndex, newValue);\n\n    var defaultFields = {\n      eventCategory: definition.name,\n      eventAction: 'change',\n      eventLabel: this.opts.changeTemplate(oldValue, newValue)\n    };\n    this.tracker.send('event', createFieldsObj(defaultFields,\n        this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n  }\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nMediaQueryTracker.prototype.remove = function() {\n  for (var i = 0, listener; listener = this.changeListeners[i]; i++) {\n    listener.mql.removeListener(listener.fn);\n  }\n};\n\n\n/**\n * Sets the default formatting of the change event label.\n * This can be overridden by setting the `changeTemplate` option.\n * @param {string} oldValue The value of the media query prior to the change.\n * @param {string} newValue The value of the media query after the change.\n * @return {string} The formatted event label.\n */\nMediaQueryTracker.prototype.changeTemplate = function(oldValue, newValue) {\n  return oldValue + ' => ' + newValue;\n};\n\n\n/**\n * Accepts a media query and returns a MediaQueryListener object.\n * Caches the values to avoid multiple unnecessary instances.\n * @param {string} media A media query value.\n * @return {MediaQueryListener} The matched media.\n */\nfunction getMediaListener(media) {\n  // Returns early if the media is cached.\n  if (mediaMap[media]) return mediaMap[media];\n\n  mediaMap[media] = window.matchMedia(media);\n  return mediaMap[media];\n}\n\n\nprovide('mediaQueryTracker', MediaQueryTracker);\n\n},{\"../constants\":4,\"../provide\":10,\"../utilities\":11,\"debounce\":14}],7:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar delegate = require('dom-utils/lib/delegate');\nvar parseUrl = require('dom-utils/lib/parse-url');\nvar provide = require('../provide');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar defaults = require('../utilities').defaults;\n\n\n/**\n * Registers outbound link tracking on a tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction OutboundLinkTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    linkSelector: 'a',\n    shouldTrackOutboundLink: this.shouldTrackOutboundLink,\n    fieldsObj: null,\n    hitFilter: null\n  });\n\n  this.tracker = tracker;\n\n  this.delegate = delegate(document, 'click', this.opts.linkSelector,\n      this.handleLinkClicks.bind(this), {deep: true, useCapture: true});\n}\n\n\n/**\n * Handles all clicks on link elements. A link is considered an outbound link\n * its hostname property does not match location.hostname. When the beacon\n * transport method is not available, the links target is set to \"_blank\" to\n * ensure the hit can be sent.\n * @param {Event} event The DOM click event.\n * @param {Element} link The delegated event target.\n */\nOutboundLinkTracker.prototype.handleLinkClicks = function(event, link) {\n\n  if (this.opts.shouldTrackOutboundLink(link, parseUrl)) {\n    // Opens outbound links in a new tab if the browser doesn't support\n    // the beacon transport method.\n    if (!navigator.sendBeacon) {\n      link.target = '_blank';\n    }\n\n    var defaultFields = {\n      transport: 'beacon',\n      eventCategory: 'Outbound Link',\n      eventAction: 'click',\n      eventLabel: link.href\n    };\n    this.tracker.send('event', createFieldsObj(defaultFields,\n        this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n  }\n};\n\n\n/**\n * Determines whether or not the tracker should send a hit when a link is\n * clicked. By default links with a hostname property not equal to the current\n * hostname are tracked.\n * @param {Element} link The link that was clicked on.\n * @param {Function} parseUrl A cross-browser utility method for url parsing.\n * @return {boolean} Whether or not the link should be tracked.\n */\nOutboundLinkTracker.prototype.shouldTrackOutboundLink =\n    function(link, parseUrl) {\n\n  var url = parseUrl(link.href);\n  return url.hostname != location.hostname &&\n      url.protocol.slice(0, 4) == 'http';\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nOutboundLinkTracker.prototype.remove = function() {\n  this.delegate.destroy();\n};\n\n\nprovide('outboundLinkTracker', OutboundLinkTracker);\n\n},{\"../provide\":10,\"../utilities\":11,\"dom-utils/lib/delegate\":16,\"dom-utils/lib/parse-url\":20}],8:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar provide = require('../provide');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar defaults = require('../utilities').defaults;\nvar isObject = require('../utilities').isObject;\n\n\nvar DEFAULT_SESSION_TIMEOUT = 30; // 30 minutes.\n\n\n/**\n * Registers outbound link tracking on tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction PageVisibilityTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    sessionTimeout: DEFAULT_SESSION_TIMEOUT,\n    fieldsObj: null,\n    hitFilter: null\n  });\n\n  this.tracker = tracker;\n\n  // Binds methods to `this`.\n  this.handleVisibilityStateChange =\n      this.handleVisibilityStateChange.bind(this);\n\n  this.overrideTrackerSendMethod();\n  this.overrideTrackerSendHitTask();\n\n  document.addEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n}\n\n\n/**\n * Handles changes to `document.visibilityState`.\n */\nPageVisibilityTracker.prototype.handleVisibilityStateChange = function() {\n  var visibilityState = document.visibilityState;\n  var defaultFields;\n\n  if (this.sessionHasTimedOut()) {\n    // Prevents sending 'hidden' state hits when the session has timed out.\n    if (visibilityState == 'hidden') return;\n\n    if (visibilityState == 'visible') {\n      // If the session has timed out, a transition to \"visible\" should be\n      // considered a new pageview and a new session.\n      defaultFields = {transport: 'beacon'};\n      this.tracker.send('pageview', createFieldsObj(defaultFields,\n          this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n    }\n  }\n  else {\n    defaultFields = {\n      transport: 'beacon',\n      eventCategory: 'Page Visibility',\n      eventAction: 'change',\n      eventLabel: visibilityState\n    };\n    this.tracker.send('event', createFieldsObj(defaultFields,\n        this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n  }\n};\n\n\n/**\n * Returns true if the session has not timed out. A session timeout occurs when\n * more than `this.opts.sessionTimeout` minutes has elapsed since the\n * tracker sent the previous hit.\n * @return {boolean} True if the session has timed out.\n */\nPageVisibilityTracker.prototype.sessionHasTimedOut = function() {\n  var minutesSinceLastHit = (new Date - this.lastHitTime) / (60 * 1000);\n  return this.opts.sessionTimeout < minutesSinceLastHit;\n};\n\n\n/**\n * Overrides the `tracker.send` method to send a pageview hit before the\n * current hit being sent if the session has timed out and the current hit is\n * not a pageview itself.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendMethod = function() {\n  this.originalTrackerSendMethod = this.tracker.send;\n\n  this.tracker.send = function() {\n    var args = Array.prototype.slice.call(arguments);\n    var firstArg = args[0];\n    var hitType = isObject(firstArg) ? firstArg.hitType : firstArg;\n    var isPageview = hitType == 'pageview';\n\n    if (!isPageview && this.sessionHasTimedOut()) {\n      var defaultFields = {transport: 'beacon'};\n      this.originalTrackerSendMethod.call(this.tracker, 'pageview',\n          createFieldsObj(defaultFields, this.opts.fieldsObj,\n              this.tracker, this.opts.hitFilter));\n    }\n\n    this.originalTrackerSendMethod.apply(this.tracker, args);\n  }.bind(this);\n};\n\n\n/**\n * Overrides the tracker's `sendHitTask` to record the time of the previous\n * hit. This is used to determine whether or not a session has timed out.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendHitTask = function() {\n  this.originalTrackerSendHitTask = this.tracker.get('sendHitTask');\n  this.lastHitTime = +new Date;\n\n  this.tracker.set('sendHitTask', function(model) {\n    this.originalTrackerSendHitTask(model);\n    this.lastHitTime = +new Date;\n  }.bind(this));\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\n PageVisibilityTracker.prototype.remove = function() {\n  this.tracker.set('sendHitTask', this.originalTrackerSendHitTask);\n  this.tracker.send = this.originalTrackerSendMethod;\n\n  document.removeEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n};\n\n\nprovide('pageVisibilityTracker', PageVisibilityTracker);\n\n},{\"../provide\":10,\"../utilities\":11}],9:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/* global FB, twttr */\n\n\nvar provide = require('../provide');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar defaults = require('../utilities').defaults;\n\n\n/**\n * Registers social tracking on tracker object.\n * Supports both declarative social tracking via HTML attributes as well as\n * tracking for social events when using official Twitter or Facebook widgets.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction SocialWidgetTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    fieldsObj: null,\n    hitFilter: null\n  });\n\n  this.tracker = tracker;\n\n  // Binds methods to `this`.\n  this.addWidgetListeners = this.addWidgetListeners.bind(this);\n  this.addTwitterEventHandlers = this.addTwitterEventHandlers.bind(this);\n  this.handleTweetEvents = this.handleTweetEvents.bind(this);\n  this.handleFollowEvents = this.handleFollowEvents.bind(this);\n  this.handleLikeEvents = this.handleLikeEvents.bind(this);\n  this.handleUnlikeEvents = this.handleUnlikeEvents.bind(this);\n\n  if (document.readyState != 'complete') {\n    // Adds the widget listeners after the window's `load` event fires.\n    // If loading widgets using the officially recommended snippets, they\n    // will be available at `window.load`. If not users can call the\n    // `addWidgetListeners` method manually.\n    window.addEventListener('load', this.addWidgetListeners);\n  }\n  else {\n    this.addWidgetListeners();\n  }\n}\n\n\n/**\n * Invokes the methods to add Facebook and Twitter widget event listeners.\n * Ensures the respective global namespaces are present before adding.\n */\nSocialWidgetTracker.prototype.addWidgetListeners = function() {\n  if (window.FB) this.addFacebookEventHandlers();\n  if (window.twttr) this.addTwitterEventHandlers();\n};\n\n\n/**\n * Adds event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons. Note: this does not capture tweet or\n * follow events emitted by other Twitter widgets (tweet, timeline, etc.).\n */\nSocialWidgetTracker.prototype.addTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.bind('tweet', this.handleTweetEvents);\n      twttr.events.bind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons.\n */\nSocialWidgetTracker.prototype.removeTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.unbind('tweet', this.handleTweetEvents);\n      twttr.events.unbind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Adds event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialWidgetTracker.prototype.addFacebookEventHandlers = function() {\n  try {\n    FB.Event.subscribe('edge.create', this.handleLikeEvents);\n    FB.Event.subscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialWidgetTracker.prototype.removeFacebookEventHandlers = function() {\n  try {\n    FB.Event.unsubscribe('edge.create', this.handleLikeEvents);\n    FB.Event.unsubscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Handles `tweet` events emitted by the Twitter JS SDK.\n * @param {Object} event The Twitter event object passed to the handler.\n */\nSocialWidgetTracker.prototype.handleTweetEvents = function(event) {\n  // Ignores tweets from widgets that aren't the tweet button.\n  if (event.region != 'tweet') return;\n\n  var url = event.data.url || event.target.getAttribute('data-url') ||\n      location.href;\n\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Twitter',\n    socialAction: 'tweet',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `follow` events emitted by the Twitter JS SDK.\n * @param {Object} event The Twitter event object passed to the handler.\n */\nSocialWidgetTracker.prototype.handleFollowEvents = function(event) {\n  // Ignore follows from widgets that aren't the follow button.\n  if (event.region != 'follow') return;\n\n  var screenName = event.data.screen_name ||\n      event.target.getAttribute('data-screen-name');\n\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Twitter',\n    socialAction: 'follow',\n    socialTarget: screenName\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `like` events emitted by the Facebook JS SDK.\n * @param {string} url The URL corresponding to the like event.\n */\nSocialWidgetTracker.prototype.handleLikeEvents = function(url) {\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Facebook',\n    socialAction: 'like',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `unlike` events emitted by the Facebook JS SDK.\n * @param {string} url The URL corresponding to the unlike event.\n */\nSocialWidgetTracker.prototype.handleUnlikeEvents = function(url) {\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Facebook',\n    socialAction: 'unlike',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nSocialWidgetTracker.prototype.remove = function() {\n  window.removeEventListener('load', this.addWidgetListeners);\n  this.removeFacebookEventHandlers();\n  this.removeTwitterEventHandlers();\n};\n\n\nprovide('socialWidgetTracker', SocialWidgetTracker);\n\n},{\"../provide\":10,\"../utilities\":11}],10:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar constants = require('./constants');\nvar utilities = require('./utilities');\n\n\n// Adds the dev ID to the list of dev IDs if any plugin is used.\n(window.gaDevIds = window.gaDevIds || []).push(constants.DEV_ID);\n\n\n/**\n * Provides a plugin for use with analytics.js, accounting for the possibility\n * that the global command queue has been renamed or not yet defined.\n * @param {string} pluginName The plugin name identifier.\n * @param {Function} pluginConstructor The plugin constructor function.\n */\nmodule.exports = function providePlugin(pluginName, pluginConstructor) {\n  var gaAlias = window['GoogleAnalyticsObject'] || 'ga';\n  window[gaAlias] = window[gaAlias] || function() {\n    (window[gaAlias]['q'] = window[gaAlias]['q'] || []).push(arguments);\n  };\n\n  // Formally provides the plugin for use with analytics.js.\n  window[gaAlias]('provide', pluginName, pluginConstructor);\n\n  // Registers the plugin on the global gaplugins object.\n  window.gaplugins = window.gaplugins || {};\n  window.gaplugins[utilities.capitalize(pluginName)] = pluginConstructor;\n};\n\n},{\"./constants\":4,\"./utilities\":11}],11:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\n\n\nvar utilities = {\n\n\n  /**\n   * Accepts default and user override fields and an optional tracker and hit\n   * filter and returns a single object that can be used in ga('send') commands.\n   * @param {Object} defaultFields The default fields to return.\n   * @param {Object} userFields Fields set by the user to override the defaults.\n   * @param {Object} opt_tracker The tracker object to apply the hit filter to.\n   * @param {Function} opt_hitFilter A filter function that gets\n   *     called with the tracker model right before the `buildHitTask`. It can\n   *     be used to modify the model for the current hit only.\n   * @return {Object} The final fields object.\n   */\n  createFieldsObj: function(defaultFields, userFields,\n      opt_tracker, opt_hitFilter) {\n\n    if (!utilities.isObject(defaultFields)) defaultFields = {};\n    if (!utilities.isObject(userFields)) userFields = {};\n\n    if (typeof opt_hitFilter == 'function') {\n      var originalBuildHitTask = opt_tracker.get('buildHitTask');\n      return {\n        buildHitTask: function(model) {\n          model.set(defaultFields);\n          model.set(userFields);\n          opt_hitFilter(model);\n          originalBuildHitTask(model);\n        }\n      };\n    }\n    else {\n      return assign({}, defaultFields, userFields);\n    }\n  },\n\n\n  /**\n   * Accepts a function and returns a wrapped version of the function that is\n   * expected to be called elsewhere in the system. If it's not called\n   * elsewhere after the timeout period, it's called regardless. The wrapper\n   * function also prevents the callback from being called more than once.\n   * @param {Function} callback The function to call.\n   * @param {number} wait How many milliseconds to wait before invoking\n   *     the callback.\n   * @returns {Function} The wrapped version of the passed function.\n   */\n  withTimeout: function(callback, wait) {\n    var called = false;\n    setTimeout(callback, wait || 2000);\n    return function() {\n      if (!called) {\n        called = true;\n        callback();\n      }\n    };\n  },\n\n\n  /**\n   * Accepts an object of overrides and defaults and returns a new object\n   * with the values merged. For each key in defaults, if there's a\n   * corresponding value in overrides, it gets used.\n   * @param {Object} overrides The object with properties to override.\n   * @param {?Object} defaults The object with properties to use as defaults.\n   * @return {Object} The final, merged object.\n   */\n  defaults: function(overrides, defaults) {\n    var result = {};\n    if (!utilities.isObject(overrides)) overrides = {};\n    if (!utilities.isObject(defaults)) defaults = {};\n\n    for (var key in defaults) {\n      if (defaults.hasOwnProperty(key)) {\n        result[key] = overrides.hasOwnProperty(key) ?\n            overrides[key] : defaults[key];\n      }\n    }\n    return result;\n  },\n\n\n  camelCase: function(str) {\n    return str.replace(/[\\-\\_]+(\\w?)/g, function(match, p1) {\n      return p1.toUpperCase();\n    });\n  },\n\n\n  /**\n   * Capitalizes the first letter of a string.\n   * @param {string} str The input string.\n   * @return {string} The capitalized string\n   */\n  capitalize: function(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  },\n\n\n  /**\n   * Indicates whether the passed variable is a JavaScript object.\n   * @param {*} value The input variable to test.\n   * @return {boolean} Whether or not the test is an object.\n   */\n  isObject: function(value) {\n    return typeof value == 'object' && value !== null;\n  },\n\n\n  /**\n   * Indicates whether the passed variable is a JavaScript array.\n   * @param {*} value The input variable to test.\n   * @return {boolean} Whether or not the value is an array.\n   */\n  isArray: Array.isArray || function(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n  },\n\n\n  /**\n   * Accepts a value that may or may not be an array. If it is not an array,\n   * it is returned as the first item in a single-item array.\n   * @param {*} value The value to convert to an array if it is not.\n   * @return {Array} The array-ified value.\n   */\n  toArray: function(value) {\n    return utilities.isArray(value) ? value : [value];\n  }\n};\n\nmodule.exports = utilities;\n\n},{\"object-assign\":12}],12:[function(require,module,exports){\n/* eslint-disable no-unused-vars */\n'use strict';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],13:[function(require,module,exports){\nmodule.exports = Date.now || now\n\nfunction now() {\n    return new Date().getTime()\n}\n\n},{}],14:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar now = require('date-now');\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = now() - timestamp;\n\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n};\n\n},{\"date-now\":13}],15:[function(require,module,exports){\nvar matches = require('./matches');\nvar parents = require('./parents');\n\n/**\n * Gets the closest parent element that matches the passed selector.\n * @param {Element} element The element whose parents to check.\n * @param {string} selector The CSS selector to match against.\n * @param {boolean} shouldCheckSelf True if the selector should test against\n *     the passed element itself.\n * @return {?Element} The matching element or undefined.\n */\nmodule.exports = function closest(element, selector, shouldCheckSelf) {\n  if (!(element && element.nodeType == 1 && selector)) return;\n\n  var parentElements =\n      (shouldCheckSelf ? [element] : []).concat(parents(element));\n\n  for (var i = 0, parent; parent = parentElements[i]; i++) {\n    if (matches(parent, selector)) return parent;\n  }\n};\n\n},{\"./matches\":18,\"./parents\":19}],16:[function(require,module,exports){\nvar closest = require('./closest');\nvar matches = require('./matches');\n\n/**\n * Delegates the handling of events for an element matching a selector to an\n * ancestor of the matching element.\n * @param {Element} ancestor The ancestor element to add the listener to.\n * @param {string} eventType The event type to listen to.\n * @param {string} selector A CSS selector to match against child elements.\n * @param {Function} callback A function to run any time the event happens.\n * @param {Object} opts A configuration options object. The available options:\n *     - useCapture<boolean>: If true, bind to the event capture phase.\n *     - deep<boolean>: If true, delegate into shadow trees.\n * @return {Object} The delegate object. It contains a destroy method.\n */\n module.exports = function delegate(\n    ancestor, eventType, selector, callback, opts) {\n\n  opts = opts || {};\n\n  // Defines the event listener.\n  var listener = function(event) {\n\n    // If opts.deep is true and the event originated from inside a Shadow DOM,\n    // check the deep nodes.\n    if (opts.deep && typeof event.deepPath == 'function') {\n      var path = event.deepPath();\n      for (var i = 0, node; node = path[i]; i++) {\n        if (node.nodeType == 1 && matches(node, selector)) {\n          delegateTarget = node;\n        }\n      }\n    }\n    // Otherwise check the parents.\n    else {\n      var delegateTarget = closest(event.target, selector, true);\n    }\n\n    if (delegateTarget) {\n      callback.call(delegateTarget, event, delegateTarget);\n    }\n  };\n\n  ancestor.addEventListener(eventType, listener, opts.useCapture);\n\n  return {\n    destroy: function() {\n      ancestor.removeEventListener(eventType, listener, opts.useCapture);\n    }\n  };\n};\n\n},{\"./closest\":15,\"./matches\":18}],17:[function(require,module,exports){\n/**\n * Gets all attributes of an element as a plain JavaScriot object.\n * @param {Element} element The element whose attributes to get.\n * @return {Object} An object whose keys are the attribute keys and whose\n *     values are the attribute values. If no attributes exist, an empty\n *     object is returned.\n */\nmodule.exports = function getAttributes(element) {\n  var attrs = {};\n\n  // Validate input.\n  if (!(element && element.nodeType == 1)) return attrs;\n\n  // Return an empty object if there are no attributes.\n  var map = element.attributes;\n  if (map.length === 0) return {};\n\n  for (var i = 0, attr; attr = map[i]; i++) {\n    attrs[attr.name] = attr.value;\n  }\n  return attrs;\n};\n\n},{}],18:[function(require,module,exports){\nvar proto = Element.prototype;\nvar nativeMatches = proto.matches ||\n    proto.matchesSelector ||\n    proto.webkitMatchesSelector ||\n    proto.mozMatchesSelector ||\n    proto.msMatchesSelector ||\n    proto.oMatchesSelector;\n\n\n/**\n * Tests whether a DOM element matches a selector. This polyfills the native\n * Element.prototype.matches method across browsers.\n * @param {Element} element The DOM element to test.\n * @param {string} selector The CSS selector to test element against.\n * @return {boolean} True if the selector matches.\n */\n function matchesSelector(element, selector) {\n  if (typeof selector != 'string') return false;\n  if (nativeMatches) return nativeMatches.call(element, selector);\n  var nodes = element.parentNode.querySelectorAll(selector);\n  for (var i = 0, node; node = nodes[i]; i++) {\n    if (node == element) return true;\n  }\n  return false;\n}\n\n\n/**\n * Tests if a DOM elements matches any of the test DOM elements or selectors.\n * @param {Element} element The DOM element to test.\n * @param {Element|string|Array<Element|String>} test A DOM element, a CSS\n *     selector, or an array of DOM elements or CSS selectors to match against.\n * @return {boolean} True of any part of the test matches.\n */\nmodule.exports = function matches(element, test) {\n  // Validate input.\n  if (element && element.nodeType == 1 && test) {\n    // if test is a string or DOM element test it.\n    if (typeof test == 'string' || test.nodeType == 1) {\n      return element == test || matchesSelector(element, test);\n    }\n    // if it has a length property iterate over the items\n    // and return true if any match.\n    else if ('length' in test) {\n      for (var i = 0, item; item = test[i]; i++) {\n        if (element == item || matchesSelector(element, item)) return true;\n      }\n    }\n  }\n  // Still here? Return false\n  return false;\n};\n\n},{}],19:[function(require,module,exports){\n/**\n * Returns an array of a DOM element's parent elements.\n * @param {Element} element The DOM element whose parents to get.\n * @return {Array} An array of all parent elemets, or an empty array if no\n *     parent elements are found.\n */\nmodule.exports = function parents(element) {\n  var list = [];\n  while (element && element.parentNode && element.parentNode.nodeType == 1) {\n    list.push(element = element.parentNode);\n  }\n  return list;\n};\n\n},{}],20:[function(require,module,exports){\nvar HTTP_PORT = '80';\nvar HTTPS_PORT = '443';\n\n\nvar a = document.createElement('a');\nvar cache = {};\n\n\n/**\n * Parses the given url and returns an object mimicing a `Location` object.\n * @param {string} url The url to parse.\n * @return {Object} An object with the same properties as a `Location`\n *    plus the convience properties `path` and `query`.\n */\nmodule.exports = function parseUrl(url) {\n\n  // All falsy values (as well as \".\") should map to the current URL.\n  url = (!url || url == '.') ? location.href : url;\n\n  if (cache[url]) return cache[url];\n\n  a.href = url;\n\n  // When parsing file relative paths (e.g. `../index.html`), IE will correctly\n  // resolve the `href` property but will keep the `..` in the `path` property.\n  // To workaround this, we reparse with the full URL from the `href` property.\n  if (url.charAt(0) == '.') return parseUrl(a.href);\n\n  // Sometimes IE will return no port or just a colon, especially for things\n  // like relative port URLs (e.g. \"//google.com\").\n  var protocol = !a.protocol || ':' == a.protocol ?\n      location.protocol : a.protocol;\n\n  // Don't include default ports.\n  var port = (a.port == HTTP_PORT || a.port == HTTPS_PORT) ? '' : a.port;\n\n  // PhantomJS sets the port to \"0\" when using the file: protocol.\n  port = port == '0' ? '' : port;\n\n  // IE will return an empty string for host and hostname with a relative URL.\n  var host = a.host == '' ? location.host : a.host;\n  var hostname = a.hostname == '' ? location.hostname : a.hostname;\n\n  // Sometimes IE incorrectly includes a port (e.g. `:80` or `:443`)  even\n  // when no port is specified in the URL.\n  // http://bit.ly/1rQNoMg\n  host = host.replace(':' + (protocol == 'http:' ? HTTP_PORT : HTTPS_PORT), '');\n\n  // Not all browser support `origin` so we have to build it.\n  var origin = a.origin ? a.origin : protocol + '//' + host;\n\n  // Sometimes IE doesn't include the leading slash for pathname.\n  // http://bit.ly/1rQNoMg\n  var pathname = a.pathname.charAt(0) == '/' ? a.pathname : '/' + a.pathname;\n\n  return cache[url] = {\n    hash: a.hash,\n    host: host,\n    hostname: hostname,\n    href: a.href,\n    origin: origin,\n\n    pathname: pathname,\n    port: port,\n    protocol: protocol,\n    search: a.search,\n\n    // Expose additional helpful properties not part of the Location object.\n    fragment: a.hash.slice(1), // The hash without the starting \"#\".\n    path: pathname + a.search, // The pathname and the search query (w/o hash).\n    query: a.search.slice(1) // The search without the starting \"?\".\n  };\n};\n\n},{}]},{},[1])\n\n","import './analytics';\nimport supports from './supports';\n\n\n// Add an `is-legacy` class on browsers that don't supports flexbox.\nif (!supports.flexbox()) {\n  let div = document.createElement('div');\n  div.className = 'Error';\n  div.innerHTML = `Your browser does not support Flexbox.\n                   Parts of this site may not appear as expected.`;\n\n  document.body.insertBefore(div, document.body.firstChild);\n}\n","import 'autotrack/lib/plugins/event-tracker';\nimport 'autotrack/lib/plugins/media-query-tracker';\nimport 'autotrack/lib/plugins/outbound-link-tracker';\nimport 'autotrack/lib/plugins/page-visibility-tracker';\nimport 'autotrack/lib/plugins/social-widget-tracker';\n","let supports = {};\nlet style = document.body.style;\n\nexport default {\n  flexbox: function() {\n    return supports.flexbox || (supports.flexbox = ('flexBasis' in style ||\n        'msFlexAlign' in style || 'webkitBoxDirection' in style));\n  }\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nmodule.exports = {\n  DEV_ID: 'i5iSjo',\n  NULL_DIMENSION: '(not set)'\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar delegate = require('dom-utils/lib/delegate');\nvar getAttributes = require('dom-utils/lib/get-attributes');\nvar provide = require('../provide');\nvar camelCase = require('../utilities').camelCase;\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar defaults = require('../utilities').defaults;\n\n\n/**\n * Registers declarative event tracking.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction EventTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    events: ['click'],\n    attributePrefix: 'ga-',\n    fieldsObj: null,\n    hitFilter: null\n  });\n\n  this.tracker = tracker;\n\n  // Binds methods.\n  this.handleEvents = this.handleEvents.bind(this);\n\n  var selector = '[' + this.opts.attributePrefix + 'on]';\n\n  // Creates a mapping of events to their delegates\n  this.delegates = {};\n  this.opts.events.forEach(function(event) {\n    this.delegates[event] = delegate(document, event, selector,\n        this.handleEvents, {deep: true, useCapture: true});\n  }.bind(this));\n}\n\n\n/**\n * Handles all clicks on elements with event attributes.\n * @param {Event} event The DOM click event.\n * @param {Element} element The delegated DOM element target.\n */\nEventTracker.prototype.handleEvents = function(event, element) {\n\n  var prefix = this.opts.attributePrefix;\n\n  // Ensures the event type matches the one specified on the element.\n  if (event.type != element.getAttribute(prefix + 'on')) return;\n\n  var defaultFields = {};\n  var attributes = getAttributes(element);\n\n  Object.keys(attributes).forEach(function(attribute) {\n    if (attribute.indexOf(prefix) === 0 && attribute != prefix + 'on') {\n      var value = attributes[attribute];\n\n      // Detects Boolean value strings.\n      if (value == 'true') value = true;\n      if (value == 'false') value = false;\n\n      var field = camelCase(attribute.slice(prefix.length));\n      defaultFields[field] = value;\n    }\n  });\n\n  this.tracker.send(defaultFields.hitType || 'event', createFieldsObj(\n      defaultFields, this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nEventTracker.prototype.remove = function() {\n  Object.keys(this.delegates).forEach(function(key) {\n    this.delegates[key].destroy();\n  }.bind(this));\n};\n\n\nprovide('eventTracker', EventTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar debounce = require('debounce');\nvar constants = require('../constants');\nvar provide = require('../provide');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar defaults = require('../utilities').defaults;\nvar isObject = require('../utilities').isObject;\nvar toArray = require('../utilities').toArray;\n\n\n/**\n * Declares the MediaQueryListener instance cache.\n */\nvar mediaMap = {};\n\n\n/**\n * Registers media query tracking.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction MediaQueryTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.matchMedia) return;\n\n  this.opts = defaults(opts, {\n    definitions: false,\n    changeTemplate: this.changeTemplate,\n    changeTimeout: 1000,\n    fieldsObj: null,\n    hitFilter: null\n  });\n\n  // Exits early if media query data doesn't exist.\n  if (!isObject(this.opts.definitions)) return;\n\n  this.opts.definitions = toArray(this.opts.definitions);\n  this.tracker = tracker;\n  this.changeListeners = [];\n\n  this.processMediaQueries();\n}\n\n\n/**\n * Loops through each media query definition, sets the custom dimenion data,\n * and adds the change listeners.\n */\nMediaQueryTracker.prototype.processMediaQueries = function() {\n  this.opts.definitions.forEach(function(definition) {\n    // Only processes definitions with a name and index.\n    if (definition.name && definition.dimensionIndex) {\n      var mediaName = this.getMatchName(definition);\n      this.tracker.set('dimension' + definition.dimensionIndex, mediaName);\n\n      this.addChangeListeners(definition);\n    }\n  }.bind(this));\n};\n\n\n/**\n * Takes a definition object and return the name of the matching media item.\n * If no match is found, the NULL_DIMENSION value is returned.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension.\n * @return {string} The name of the matched media or NULL_DIMENSION.\n */\nMediaQueryTracker.prototype.getMatchName = function(definition) {\n  var match;\n\n  definition.items.forEach(function(item) {\n    if (getMediaListener(item.media).matches) {\n      match = item;\n    }\n  });\n  return match ? match.name : constants.NULL_DIMENSION;\n};\n\n\n/**\n * Adds change listeners to each media query in the definition list.\n * Debounces the changes to prevent unnecessary hits from being sent.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.addChangeListeners = function(definition) {\n  definition.items.forEach(function(item) {\n    var mql = getMediaListener(item.media);\n    var fn = debounce(function() {\n      this.handleChanges(definition);\n    }.bind(this), this.opts.changeTimeout);\n\n    mql.addListener(fn);\n    this.changeListeners.push({mql: mql, fn: fn});\n  }.bind(this));\n};\n\n\n/**\n * Handles changes to the matched media. When the new value differs from\n * the old value, a change event is sent.\n * @param {Object} definition A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.handleChanges = function(definition) {\n  var newValue = this.getMatchName(definition);\n  var oldValue = this.tracker.get('dimension' + definition.dimensionIndex);\n\n  if (newValue !== oldValue) {\n    this.tracker.set('dimension' + definition.dimensionIndex, newValue);\n\n    var defaultFields = {\n      eventCategory: definition.name,\n      eventAction: 'change',\n      eventLabel: this.opts.changeTemplate(oldValue, newValue)\n    };\n    this.tracker.send('event', createFieldsObj(defaultFields,\n        this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n  }\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nMediaQueryTracker.prototype.remove = function() {\n  for (var i = 0, listener; listener = this.changeListeners[i]; i++) {\n    listener.mql.removeListener(listener.fn);\n  }\n};\n\n\n/**\n * Sets the default formatting of the change event label.\n * This can be overridden by setting the `changeTemplate` option.\n * @param {string} oldValue The value of the media query prior to the change.\n * @param {string} newValue The value of the media query after the change.\n * @return {string} The formatted event label.\n */\nMediaQueryTracker.prototype.changeTemplate = function(oldValue, newValue) {\n  return oldValue + ' => ' + newValue;\n};\n\n\n/**\n * Accepts a media query and returns a MediaQueryListener object.\n * Caches the values to avoid multiple unnecessary instances.\n * @param {string} media A media query value.\n * @return {MediaQueryListener} The matched media.\n */\nfunction getMediaListener(media) {\n  // Returns early if the media is cached.\n  if (mediaMap[media]) return mediaMap[media];\n\n  mediaMap[media] = window.matchMedia(media);\n  return mediaMap[media];\n}\n\n\nprovide('mediaQueryTracker', MediaQueryTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar delegate = require('dom-utils/lib/delegate');\nvar parseUrl = require('dom-utils/lib/parse-url');\nvar provide = require('../provide');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar defaults = require('../utilities').defaults;\n\n\n/**\n * Registers outbound link tracking on a tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction OutboundLinkTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    linkSelector: 'a',\n    shouldTrackOutboundLink: this.shouldTrackOutboundLink,\n    fieldsObj: null,\n    hitFilter: null\n  });\n\n  this.tracker = tracker;\n\n  this.delegate = delegate(document, 'click', this.opts.linkSelector,\n      this.handleLinkClicks.bind(this), {deep: true, useCapture: true});\n}\n\n\n/**\n * Handles all clicks on link elements. A link is considered an outbound link\n * its hostname property does not match location.hostname. When the beacon\n * transport method is not available, the links target is set to \"_blank\" to\n * ensure the hit can be sent.\n * @param {Event} event The DOM click event.\n * @param {Element} link The delegated event target.\n */\nOutboundLinkTracker.prototype.handleLinkClicks = function(event, link) {\n\n  if (this.opts.shouldTrackOutboundLink(link, parseUrl)) {\n    // Opens outbound links in a new tab if the browser doesn't support\n    // the beacon transport method.\n    if (!navigator.sendBeacon) {\n      link.target = '_blank';\n    }\n\n    var defaultFields = {\n      transport: 'beacon',\n      eventCategory: 'Outbound Link',\n      eventAction: 'click',\n      eventLabel: link.href\n    };\n    this.tracker.send('event', createFieldsObj(defaultFields,\n        this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n  }\n};\n\n\n/**\n * Determines whether or not the tracker should send a hit when a link is\n * clicked. By default links with a hostname property not equal to the current\n * hostname are tracked.\n * @param {Element} link The link that was clicked on.\n * @param {Function} parseUrl A cross-browser utility method for url parsing.\n * @return {boolean} Whether or not the link should be tracked.\n */\nOutboundLinkTracker.prototype.shouldTrackOutboundLink =\n    function(link, parseUrl) {\n\n  var url = parseUrl(link.href);\n  return url.hostname != location.hostname &&\n      url.protocol.slice(0, 4) == 'http';\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nOutboundLinkTracker.prototype.remove = function() {\n  this.delegate.destroy();\n};\n\n\nprovide('outboundLinkTracker', OutboundLinkTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar provide = require('../provide');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar defaults = require('../utilities').defaults;\nvar isObject = require('../utilities').isObject;\n\n\nvar DEFAULT_SESSION_TIMEOUT = 30; // 30 minutes.\n\n\n/**\n * Registers outbound link tracking on tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction PageVisibilityTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    sessionTimeout: DEFAULT_SESSION_TIMEOUT,\n    fieldsObj: null,\n    hitFilter: null\n  });\n\n  this.tracker = tracker;\n\n  // Binds methods to `this`.\n  this.handleVisibilityStateChange =\n      this.handleVisibilityStateChange.bind(this);\n\n  this.overrideTrackerSendMethod();\n  this.overrideTrackerSendHitTask();\n\n  document.addEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n}\n\n\n/**\n * Handles changes to `document.visibilityState`.\n */\nPageVisibilityTracker.prototype.handleVisibilityStateChange = function() {\n  var visibilityState = document.visibilityState;\n  var defaultFields;\n\n  if (this.sessionHasTimedOut()) {\n    // Prevents sending 'hidden' state hits when the session has timed out.\n    if (visibilityState == 'hidden') return;\n\n    if (visibilityState == 'visible') {\n      // If the session has timed out, a transition to \"visible\" should be\n      // considered a new pageview and a new session.\n      defaultFields = {transport: 'beacon'};\n      this.tracker.send('pageview', createFieldsObj(defaultFields,\n          this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n    }\n  }\n  else {\n    defaultFields = {\n      transport: 'beacon',\n      eventCategory: 'Page Visibility',\n      eventAction: 'change',\n      eventLabel: visibilityState\n    };\n    this.tracker.send('event', createFieldsObj(defaultFields,\n        this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n  }\n};\n\n\n/**\n * Returns true if the session has not timed out. A session timeout occurs when\n * more than `this.opts.sessionTimeout` minutes has elapsed since the\n * tracker sent the previous hit.\n * @return {boolean} True if the session has timed out.\n */\nPageVisibilityTracker.prototype.sessionHasTimedOut = function() {\n  var minutesSinceLastHit = (new Date - this.lastHitTime) / (60 * 1000);\n  return this.opts.sessionTimeout < minutesSinceLastHit;\n};\n\n\n/**\n * Overrides the `tracker.send` method to send a pageview hit before the\n * current hit being sent if the session has timed out and the current hit is\n * not a pageview itself.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendMethod = function() {\n  this.originalTrackerSendMethod = this.tracker.send;\n\n  this.tracker.send = function() {\n    var args = Array.prototype.slice.call(arguments);\n    var firstArg = args[0];\n    var hitType = isObject(firstArg) ? firstArg.hitType : firstArg;\n    var isPageview = hitType == 'pageview';\n\n    if (!isPageview && this.sessionHasTimedOut()) {\n      var defaultFields = {transport: 'beacon'};\n      this.originalTrackerSendMethod.call(this.tracker, 'pageview',\n          createFieldsObj(defaultFields, this.opts.fieldsObj,\n              this.tracker, this.opts.hitFilter));\n    }\n\n    this.originalTrackerSendMethod.apply(this.tracker, args);\n  }.bind(this);\n};\n\n\n/**\n * Overrides the tracker's `sendHitTask` to record the time of the previous\n * hit. This is used to determine whether or not a session has timed out.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendHitTask = function() {\n  this.originalTrackerSendHitTask = this.tracker.get('sendHitTask');\n  this.lastHitTime = +new Date;\n\n  this.tracker.set('sendHitTask', function(model) {\n    this.originalTrackerSendHitTask(model);\n    this.lastHitTime = +new Date;\n  }.bind(this));\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\n PageVisibilityTracker.prototype.remove = function() {\n  this.tracker.set('sendHitTask', this.originalTrackerSendHitTask);\n  this.tracker.send = this.originalTrackerSendMethod;\n\n  document.removeEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n};\n\n\nprovide('pageVisibilityTracker', PageVisibilityTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/* global FB, twttr */\n\n\nvar provide = require('../provide');\nvar createFieldsObj = require('../utilities').createFieldsObj;\nvar defaults = require('../utilities').defaults;\n\n\n/**\n * Registers social tracking on tracker object.\n * Supports both declarative social tracking via HTML attributes as well as\n * tracking for social events when using official Twitter or Facebook widgets.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction SocialWidgetTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    fieldsObj: null,\n    hitFilter: null\n  });\n\n  this.tracker = tracker;\n\n  // Binds methods to `this`.\n  this.addWidgetListeners = this.addWidgetListeners.bind(this);\n  this.addTwitterEventHandlers = this.addTwitterEventHandlers.bind(this);\n  this.handleTweetEvents = this.handleTweetEvents.bind(this);\n  this.handleFollowEvents = this.handleFollowEvents.bind(this);\n  this.handleLikeEvents = this.handleLikeEvents.bind(this);\n  this.handleUnlikeEvents = this.handleUnlikeEvents.bind(this);\n\n  if (document.readyState != 'complete') {\n    // Adds the widget listeners after the window's `load` event fires.\n    // If loading widgets using the officially recommended snippets, they\n    // will be available at `window.load`. If not users can call the\n    // `addWidgetListeners` method manually.\n    window.addEventListener('load', this.addWidgetListeners);\n  }\n  else {\n    this.addWidgetListeners();\n  }\n}\n\n\n/**\n * Invokes the methods to add Facebook and Twitter widget event listeners.\n * Ensures the respective global namespaces are present before adding.\n */\nSocialWidgetTracker.prototype.addWidgetListeners = function() {\n  if (window.FB) this.addFacebookEventHandlers();\n  if (window.twttr) this.addTwitterEventHandlers();\n};\n\n\n/**\n * Adds event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons. Note: this does not capture tweet or\n * follow events emitted by other Twitter widgets (tweet, timeline, etc.).\n */\nSocialWidgetTracker.prototype.addTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.bind('tweet', this.handleTweetEvents);\n      twttr.events.bind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons.\n */\nSocialWidgetTracker.prototype.removeTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.unbind('tweet', this.handleTweetEvents);\n      twttr.events.unbind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Adds event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialWidgetTracker.prototype.addFacebookEventHandlers = function() {\n  try {\n    FB.Event.subscribe('edge.create', this.handleLikeEvents);\n    FB.Event.subscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialWidgetTracker.prototype.removeFacebookEventHandlers = function() {\n  try {\n    FB.Event.unsubscribe('edge.create', this.handleLikeEvents);\n    FB.Event.unsubscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Handles `tweet` events emitted by the Twitter JS SDK.\n * @param {Object} event The Twitter event object passed to the handler.\n */\nSocialWidgetTracker.prototype.handleTweetEvents = function(event) {\n  // Ignores tweets from widgets that aren't the tweet button.\n  if (event.region != 'tweet') return;\n\n  var url = event.data.url || event.target.getAttribute('data-url') ||\n      location.href;\n\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Twitter',\n    socialAction: 'tweet',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `follow` events emitted by the Twitter JS SDK.\n * @param {Object} event The Twitter event object passed to the handler.\n */\nSocialWidgetTracker.prototype.handleFollowEvents = function(event) {\n  // Ignore follows from widgets that aren't the follow button.\n  if (event.region != 'follow') return;\n\n  var screenName = event.data.screen_name ||\n      event.target.getAttribute('data-screen-name');\n\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Twitter',\n    socialAction: 'follow',\n    socialTarget: screenName\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `like` events emitted by the Facebook JS SDK.\n * @param {string} url The URL corresponding to the like event.\n */\nSocialWidgetTracker.prototype.handleLikeEvents = function(url) {\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Facebook',\n    socialAction: 'like',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Handles `unlike` events emitted by the Facebook JS SDK.\n * @param {string} url The URL corresponding to the unlike event.\n */\nSocialWidgetTracker.prototype.handleUnlikeEvents = function(url) {\n  var defaultFields = {\n    transport: 'beacon',\n    socialNetwork: 'Facebook',\n    socialAction: 'unlike',\n    socialTarget: url\n  };\n  this.tracker.send('social', createFieldsObj(defaultFields,\n      this.opts.fieldsObj, this.tracker, this.opts.hitFilter));\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nSocialWidgetTracker.prototype.remove = function() {\n  window.removeEventListener('load', this.addWidgetListeners);\n  this.removeFacebookEventHandlers();\n  this.removeTwitterEventHandlers();\n};\n\n\nprovide('socialWidgetTracker', SocialWidgetTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar constants = require('./constants');\nvar utilities = require('./utilities');\n\n\n// Adds the dev ID to the list of dev IDs if any plugin is used.\n(window.gaDevIds = window.gaDevIds || []).push(constants.DEV_ID);\n\n\n/**\n * Provides a plugin for use with analytics.js, accounting for the possibility\n * that the global command queue has been renamed or not yet defined.\n * @param {string} pluginName The plugin name identifier.\n * @param {Function} pluginConstructor The plugin constructor function.\n */\nmodule.exports = function providePlugin(pluginName, pluginConstructor) {\n  var gaAlias = window['GoogleAnalyticsObject'] || 'ga';\n  window[gaAlias] = window[gaAlias] || function() {\n    (window[gaAlias]['q'] = window[gaAlias]['q'] || []).push(arguments);\n  };\n\n  // Formally provides the plugin for use with analytics.js.\n  window[gaAlias]('provide', pluginName, pluginConstructor);\n\n  // Registers the plugin on the global gaplugins object.\n  window.gaplugins = window.gaplugins || {};\n  window.gaplugins[utilities.capitalize(pluginName)] = pluginConstructor;\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar assign = require('object-assign');\n\n\nvar utilities = {\n\n\n  /**\n   * Accepts default and user override fields and an optional tracker and hit\n   * filter and returns a single object that can be used in ga('send') commands.\n   * @param {Object} defaultFields The default fields to return.\n   * @param {Object} userFields Fields set by the user to override the defaults.\n   * @param {Object} opt_tracker The tracker object to apply the hit filter to.\n   * @param {Function} opt_hitFilter A filter function that gets\n   *     called with the tracker model right before the `buildHitTask`. It can\n   *     be used to modify the model for the current hit only.\n   * @return {Object} The final fields object.\n   */\n  createFieldsObj: function(defaultFields, userFields,\n      opt_tracker, opt_hitFilter) {\n\n    if (!utilities.isObject(defaultFields)) defaultFields = {};\n    if (!utilities.isObject(userFields)) userFields = {};\n\n    if (typeof opt_hitFilter == 'function') {\n      var originalBuildHitTask = opt_tracker.get('buildHitTask');\n      return {\n        buildHitTask: function(model) {\n          model.set(defaultFields);\n          model.set(userFields);\n          opt_hitFilter(model);\n          originalBuildHitTask(model);\n        }\n      };\n    }\n    else {\n      return assign({}, defaultFields, userFields);\n    }\n  },\n\n\n  /**\n   * Accepts a function and returns a wrapped version of the function that is\n   * expected to be called elsewhere in the system. If it's not called\n   * elsewhere after the timeout period, it's called regardless. The wrapper\n   * function also prevents the callback from being called more than once.\n   * @param {Function} callback The function to call.\n   * @param {number} wait How many milliseconds to wait before invoking\n   *     the callback.\n   * @returns {Function} The wrapped version of the passed function.\n   */\n  withTimeout: function(callback, wait) {\n    var called = false;\n    setTimeout(callback, wait || 2000);\n    return function() {\n      if (!called) {\n        called = true;\n        callback();\n      }\n    };\n  },\n\n\n  /**\n   * Accepts an object of overrides and defaults and returns a new object\n   * with the values merged. For each key in defaults, if there's a\n   * corresponding value in overrides, it gets used.\n   * @param {Object} overrides The object with properties to override.\n   * @param {?Object} defaults The object with properties to use as defaults.\n   * @return {Object} The final, merged object.\n   */\n  defaults: function(overrides, defaults) {\n    var result = {};\n    if (!utilities.isObject(overrides)) overrides = {};\n    if (!utilities.isObject(defaults)) defaults = {};\n\n    for (var key in defaults) {\n      if (defaults.hasOwnProperty(key)) {\n        result[key] = overrides.hasOwnProperty(key) ?\n            overrides[key] : defaults[key];\n      }\n    }\n    return result;\n  },\n\n\n  camelCase: function(str) {\n    return str.replace(/[\\-\\_]+(\\w?)/g, function(match, p1) {\n      return p1.toUpperCase();\n    });\n  },\n\n\n  /**\n   * Capitalizes the first letter of a string.\n   * @param {string} str The input string.\n   * @return {string} The capitalized string\n   */\n  capitalize: function(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  },\n\n\n  /**\n   * Indicates whether the passed variable is a JavaScript object.\n   * @param {*} value The input variable to test.\n   * @return {boolean} Whether or not the test is an object.\n   */\n  isObject: function(value) {\n    return typeof value == 'object' && value !== null;\n  },\n\n\n  /**\n   * Indicates whether the passed variable is a JavaScript array.\n   * @param {*} value The input variable to test.\n   * @return {boolean} Whether or not the value is an array.\n   */\n  isArray: Array.isArray || function(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n  },\n\n\n  /**\n   * Accepts a value that may or may not be an array. If it is not an array,\n   * it is returned as the first item in a single-item array.\n   * @param {*} value The value to convert to an array if it is not.\n   * @return {Array} The array-ified value.\n   */\n  toArray: function(value) {\n    return utilities.isArray(value) ? value : [value];\n  }\n};\n\nmodule.exports = utilities;\n","/* eslint-disable no-unused-vars */\n'use strict';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","module.exports = Date.now || now\n\nfunction now() {\n    return new Date().getTime()\n}\n","\n/**\n * Module dependencies.\n */\n\nvar now = require('date-now');\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = now() - timestamp;\n\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n};\n","var matches = require('./matches');\nvar parents = require('./parents');\n\n/**\n * Gets the closest parent element that matches the passed selector.\n * @param {Element} element The element whose parents to check.\n * @param {string} selector The CSS selector to match against.\n * @param {boolean} shouldCheckSelf True if the selector should test against\n *     the passed element itself.\n * @return {?Element} The matching element or undefined.\n */\nmodule.exports = function closest(element, selector, shouldCheckSelf) {\n  if (!(element && element.nodeType == 1 && selector)) return;\n\n  var parentElements =\n      (shouldCheckSelf ? [element] : []).concat(parents(element));\n\n  for (var i = 0, parent; parent = parentElements[i]; i++) {\n    if (matches(parent, selector)) return parent;\n  }\n};\n","var closest = require('./closest');\nvar matches = require('./matches');\n\n/**\n * Delegates the handling of events for an element matching a selector to an\n * ancestor of the matching element.\n * @param {Element} ancestor The ancestor element to add the listener to.\n * @param {string} eventType The event type to listen to.\n * @param {string} selector A CSS selector to match against child elements.\n * @param {Function} callback A function to run any time the event happens.\n * @param {Object} opts A configuration options object. The available options:\n *     - useCapture<boolean>: If true, bind to the event capture phase.\n *     - deep<boolean>: If true, delegate into shadow trees.\n * @return {Object} The delegate object. It contains a destroy method.\n */\n module.exports = function delegate(\n    ancestor, eventType, selector, callback, opts) {\n\n  opts = opts || {};\n\n  // Defines the event listener.\n  var listener = function(event) {\n\n    // If opts.deep is true and the event originated from inside a Shadow DOM,\n    // check the deep nodes.\n    if (opts.deep && typeof event.deepPath == 'function') {\n      var path = event.deepPath();\n      for (var i = 0, node; node = path[i]; i++) {\n        if (node.nodeType == 1 && matches(node, selector)) {\n          delegateTarget = node;\n        }\n      }\n    }\n    // Otherwise check the parents.\n    else {\n      var delegateTarget = closest(event.target, selector, true);\n    }\n\n    if (delegateTarget) {\n      callback.call(delegateTarget, event, delegateTarget);\n    }\n  };\n\n  ancestor.addEventListener(eventType, listener, opts.useCapture);\n\n  return {\n    destroy: function() {\n      ancestor.removeEventListener(eventType, listener, opts.useCapture);\n    }\n  };\n};\n","/**\n * Gets all attributes of an element as a plain JavaScriot object.\n * @param {Element} element The element whose attributes to get.\n * @return {Object} An object whose keys are the attribute keys and whose\n *     values are the attribute values. If no attributes exist, an empty\n *     object is returned.\n */\nmodule.exports = function getAttributes(element) {\n  var attrs = {};\n\n  // Validate input.\n  if (!(element && element.nodeType == 1)) return attrs;\n\n  // Return an empty object if there are no attributes.\n  var map = element.attributes;\n  if (map.length === 0) return {};\n\n  for (var i = 0, attr; attr = map[i]; i++) {\n    attrs[attr.name] = attr.value;\n  }\n  return attrs;\n};\n","var proto = Element.prototype;\nvar nativeMatches = proto.matches ||\n    proto.matchesSelector ||\n    proto.webkitMatchesSelector ||\n    proto.mozMatchesSelector ||\n    proto.msMatchesSelector ||\n    proto.oMatchesSelector;\n\n\n/**\n * Tests whether a DOM element matches a selector. This polyfills the native\n * Element.prototype.matches method across browsers.\n * @param {Element} element The DOM element to test.\n * @param {string} selector The CSS selector to test element against.\n * @return {boolean} True if the selector matches.\n */\n function matchesSelector(element, selector) {\n  if (typeof selector != 'string') return false;\n  if (nativeMatches) return nativeMatches.call(element, selector);\n  var nodes = element.parentNode.querySelectorAll(selector);\n  for (var i = 0, node; node = nodes[i]; i++) {\n    if (node == element) return true;\n  }\n  return false;\n}\n\n\n/**\n * Tests if a DOM elements matches any of the test DOM elements or selectors.\n * @param {Element} element The DOM element to test.\n * @param {Element|string|Array<Element|String>} test A DOM element, a CSS\n *     selector, or an array of DOM elements or CSS selectors to match against.\n * @return {boolean} True of any part of the test matches.\n */\nmodule.exports = function matches(element, test) {\n  // Validate input.\n  if (element && element.nodeType == 1 && test) {\n    // if test is a string or DOM element test it.\n    if (typeof test == 'string' || test.nodeType == 1) {\n      return element == test || matchesSelector(element, test);\n    }\n    // if it has a length property iterate over the items\n    // and return true if any match.\n    else if ('length' in test) {\n      for (var i = 0, item; item = test[i]; i++) {\n        if (element == item || matchesSelector(element, item)) return true;\n      }\n    }\n  }\n  // Still here? Return false\n  return false;\n};\n","/**\n * Returns an array of a DOM element's parent elements.\n * @param {Element} element The DOM element whose parents to get.\n * @return {Array} An array of all parent elemets, or an empty array if no\n *     parent elements are found.\n */\nmodule.exports = function parents(element) {\n  var list = [];\n  while (element && element.parentNode && element.parentNode.nodeType == 1) {\n    list.push(element = element.parentNode);\n  }\n  return list;\n};\n","var HTTP_PORT = '80';\nvar HTTPS_PORT = '443';\n\n\nvar a = document.createElement('a');\nvar cache = {};\n\n\n/**\n * Parses the given url and returns an object mimicing a `Location` object.\n * @param {string} url The url to parse.\n * @return {Object} An object with the same properties as a `Location`\n *    plus the convience properties `path` and `query`.\n */\nmodule.exports = function parseUrl(url) {\n\n  // All falsy values (as well as \".\") should map to the current URL.\n  url = (!url || url == '.') ? location.href : url;\n\n  if (cache[url]) return cache[url];\n\n  a.href = url;\n\n  // When parsing file relative paths (e.g. `../index.html`), IE will correctly\n  // resolve the `href` property but will keep the `..` in the `path` property.\n  // To workaround this, we reparse with the full URL from the `href` property.\n  if (url.charAt(0) == '.') return parseUrl(a.href);\n\n  // Sometimes IE will return no port or just a colon, especially for things\n  // like relative port URLs (e.g. \"//google.com\").\n  var protocol = !a.protocol || ':' == a.protocol ?\n      location.protocol : a.protocol;\n\n  // Don't include default ports.\n  var port = (a.port == HTTP_PORT || a.port == HTTPS_PORT) ? '' : a.port;\n\n  // PhantomJS sets the port to \"0\" when using the file: protocol.\n  port = port == '0' ? '' : port;\n\n  // IE will return an empty string for host and hostname with a relative URL.\n  var host = a.host == '' ? location.host : a.host;\n  var hostname = a.hostname == '' ? location.hostname : a.hostname;\n\n  // Sometimes IE incorrectly includes a port (e.g. `:80` or `:443`)  even\n  // when no port is specified in the URL.\n  // http://bit.ly/1rQNoMg\n  host = host.replace(':' + (protocol == 'http:' ? HTTP_PORT : HTTPS_PORT), '');\n\n  // Not all browser support `origin` so we have to build it.\n  var origin = a.origin ? a.origin : protocol + '//' + host;\n\n  // Sometimes IE doesn't include the leading slash for pathname.\n  // http://bit.ly/1rQNoMg\n  var pathname = a.pathname.charAt(0) == '/' ? a.pathname : '/' + a.pathname;\n\n  return cache[url] = {\n    hash: a.hash,\n    host: host,\n    hostname: hostname,\n    href: a.href,\n    origin: origin,\n\n    pathname: pathname,\n    port: port,\n    protocol: protocol,\n    search: a.search,\n\n    // Expose additional helpful properties not part of the Location object.\n    fragment: a.hash.slice(1), // The hash without the starting \"#\".\n    path: pathname + a.search, // The pathname and the search query (w/o hash).\n    query: a.search.slice(1) // The search without the starting \"?\".\n  };\n};\n"],"sourceRoot":"/source/"}